(this["webpackJsonpinventory-management-system"]=this["webpackJsonpinventory-management-system"]||[]).push([[0],{104:function(e,t){},162:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(15),r=a.n(s),i=a(5),l=a(25),o=a(23),d=a(66),u=a.n(d),j=a(44),b=function(e){if(e&&e.length>0)return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()};function h(e){var t=e&&"string"===typeof e?e.split("_"):[];return"object"===typeof e&&Object.keys(e).map((function(a){t.push(Array.isArray(e[a])?e[a].join(". "):e[a])})),(t=t.map((function(e){return b(e)}))).join(" ")}Object(o.a)();var m=function(){var e=localStorage.getItem("_Bearer");return!(!e&&u()(e))&&!(Object(j.a)(e).exp<Date.now()/1e3)},p=function(e){var t=new Date(e);return t=t.toISOString().split("T")[0]};function O(e){var t=new Date(e);return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}var f=function(e){for(var t="",a=0;a<e.length;a++){var n=e[a];n.value&&(t="".concat(t).concat(n.key,"=").concat(n.value,"&"))}return t.length>0&&(t=t.substring(0,t.length-1)),t};var v=function(e){var t=e.substring(1);return t?JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)})):{}},x=a(2),g=a(6),y=a(33),N="ALERT_SUCCESS",_="ALERT_ERROR",S="ALERT_CLEAR",C="ALERT_RESET",E="LOGIN_SUCCESS",k="LOGIN_PROCESSING",w="LOGIN_ERROR",R="FETCH_LOGGED_USER_SUCCESS",T="FETCH_LOGGED_USER_ERROR",I="FETCH_LOGGED_USER_PROCESSING",F="FETCH_CUSTOMERS_PROCESSING",A="FETCH_CUSTOMERS_SUCCESS",D="FETCH_CUSTOMERS_ERROR",P="FETCH_CUSTOMER_PROCESSING",q="FETCH_CUSTOMER_PROCESSING",U="FETCH_CUSTOMER_PROCESSING",B="UPDATE_CUSTOMER_PROCESSING",L="UPDATE_CUSTOMER_SUCCESS",M="UPDATE_CUSTOMER_ERROR",V="CREATE_CUSTOMER_PROCESSING",H="CREATE_CUSTOMER_SUCCESS",G="CREATE_CUSTOMER_ERROR",K="FETCH_VENDORS_PROCESSING",z="FETCH_VENDORS_SUCCESS",W="FETCH_VENDORS_ERROR",Y="FETCH_VENDOR_PROCESSING",Q="FETCH_VENDOR_SUCCESS",X="FETCH_VENDOR_ERROR",J="UPDATE_VENDOR_PROCESSING",Z="UPDATE_VENDOR_SUCCESS",$="UPDATE_VENDOR_ERROR",ee="CREATE_VENDOR_PROCESSING",te="CREATE_VENDOR_SUCCESS",ae="CREATE_VENDOR_ERROR",ne="FETCH_DAILY_SALES_SUCCESS",ce="FETCH_DAILY_SALES_ERROR",se="FETCH_DAILY_SALES_PROCESSING",re="FETCH_SALES_REPORT_SUCCESS",ie="FETCH_SALES_REPORT_ERROR",le="FETCH_SALES_REPORT_PROCESSING",oe="FETCH_CATEGORIES_PROCESSING",de="FETCH_CATEGORIES_SUCCESS",ue="FETCH_CATEGORIES_ERROR",je="FETCH_CATEGORY_PROCESSING",be="FETCH_CATEGORY_SUCCESS",he="FETCH_CATEGORY_ERROR",me="UPDATE_CATEGORY_PROCESSING",pe="UPDATE_CATEGORY_SUCCESS",Oe="UPDATE_CATEGORY_ERROR",fe="CREATE_CATEGORY_PROCESSING",ve="CREATE_CATEGORY_SUCCESS",xe="CREATE_CATEGORY_ERROR",ge="FETCH_DEBTORS_PROCESSING",ye="FETCH_DEBTORS_SUCCESS",Ne="FETCH_DEBTORS_ERROR",_e="FETCH_DEBTOR_PROCESSING",Se="FETCH_DEBTOR_PROCESSING",Ce="FETCH_DEBTOR_PROCESSING",Ee="UPDATE_DEBTOR_PROCESSING",ke="UPDATE_DEBTOR_SUCCESS",we="UPDATE_DEBTOR_ERROR",Re="CREATE_DEBTOR_PROCESSING",Te="CREATE_DEBTOR_SUCCESS",Ie="CREATE_DEBTOR_ERROR";function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:N,message:e,data:t}}function Ae(e){return{type:_,message:e}}function De(){return{type:S}}var Pe=a(17),qe=a(18),Ue=a(20),Be=a(19),Le=a(32),Me=a.n(Le),Ve=a(110),He=a.n(Ve),Ge=a(112),Ke=a.n(Ge),ze=a(113),We=a.n(ze),Ye=a(116),Qe=a.n(Ye),Xe=a(114),Je=a.n(Xe),Ze=a(115),$e=a.n(Ze),et=a(219),tt=a(218),at=a(220),nt=a(111),ct=a.n(nt),st=a(26),rt=a(0),it=["classes","className","message","variant","onClose","handleClose","duration","open"],lt={success:He.a,warning:ct.a,error:Ke.a,info:We.a},ot=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(){return Object(Pe.a)(this,a),t.apply(this,arguments)}return Object(qe.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,c=e.variant,s=(e.onClose,e.handleClose),r=e.duration,i=e.open,l=Object(y.a)(e,it),o=lt[c];return Object(rt.jsx)(tt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{zIndex:1e4},open:i,onClose:function(e){return s(e)},autoHideDuration:r,children:Object(rt.jsx)(at.a,Object(x.a)({className:Me()(t[c],a),"aria-describedby":"client-snackbar",message:Object(rt.jsxs)("span",{id:"client-snackbar",className:t.message,children:[Object(rt.jsx)(o,{className:Me()(t.icon,t.iconVariant)}),n&&h(n)]}),action:[Object(rt.jsx)(et.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:function(e){return s(e)},children:Object(rt.jsx)(Qe.a,{className:t.icon})},"close")]},l))})}}]),a}(n.Component),dt=Object(st.a)((function(e){return{success:{backgroundColor:Je.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:$e.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center",fontSize:"1.2rem"},margin:{margin:e.spacing.unit}}}))(ot),ut=["component","children","title"],jt=function(e){var t=e.component,a=e.children,c=(e.title,Object(y.a)(e,ut)),s=Object(n.useState)(!1),r=Object(g.a)(s,2),l=r[0],o=r[1],d=Object(i.d)((function(e){return{alerts:e.alerts}}),i.b).alerts,u=Object(i.c)();Object(n.useEffect)((function(){o(d&&d.showSnackbar)}),[d]);return Object(rt.jsxs)(rt.Fragment,{children:[("success"===d.type||"error"===d.type)&&l&&Object(rt.jsx)(dt,{message:d.message,variant:d.type,duration:6e3,handleClose:function(e){return u(De()),void o(!l)},open:l}),t&&Object(rt.jsx)(t,Object(x.a)({},c)),a]})},bt=a(7),ht=["component"],mt=function(e){var t=e.component,a=Object(y.a)(e,ht);return Object(rt.jsx)(bt.b,Object(x.a)(Object(x.a)({},a),{},{render:function(e){return m()?Object(rt.jsx)(t,Object(x.a)({},e)):Object(rt.jsx)(bt.a,{to:"/login"})}}))},pt=["component","restricted"],Ot=function(e){var t=e.component,a=e.restricted,n=Object(y.a)(e,pt);return Object(rt.jsx)(bt.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){return m()&&a?Object(rt.jsx)(bt.a,{to:"/login"}):Object(rt.jsx)(t,Object(x.a)({},e))}}))},ft=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t&&Object.keys(t).map((function(s,r){for(var i=0;i<t[s].length;i++){var l=c(s,e[s],t[s][i],e);if(l){a[s]=l,n=!0;break}}})),{localvalidationerror:n,error:a};function c(e,t,a,n){var c=a.split(":");switch(c[0]){case"required":return t||"0"===t?null:[s(e)+" field is required."];case"email":return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?null:[s(e)+" is not a valid email."];case"numeric":return/\D/.test(t)?[s(e)+" field must be number."]:null;case"array":return Array.isArray(t)?null:[s(e)+" field must be array."];case"min":return"string"===typeof t?t.length<c[1]?[s(e)+" must be minimum of "+c[1]+" character."]:null:"number"===typeof t?t<c[1]?[b(e)+" must be greater than or equals "+c[1]+" ."]:null:Array.isArray(t)&&t.length<c[1]?[s(e)+" must contain minimum of "+c[1]+" item."]:null;case"greater_than":return t>n[c[1]]?null:[s(e)+" must be greater than "+c[1]+" ."];case"max":return"string"===typeof t?t.length>c[1]?[s(e)+" must be maximum of "+c[1]+" character."]:null:"number"===typeof t?t>c[1]?[s(e)+" must be less than or equals "+c[1]+" ."]:null:Array.isArray(t)&&t.length>c[1]?[s(e)+" must contain maximum of "+c[1]+" item."]:null;case"in":return c[1].split(",").includes(t)?null:[s(e)+" is invalid."];case"mac":return/^([a-fA-F0-9]{2}:[a-fA-F0-9]{2}:[a-fA-F0-9]{2}:[a-fA-F0-9]{2}:[a-fA-F0-9]{2}:[a-fA-F0-9]{2})$/.test(t)?null:[s(e)+" is not valid. Must be hexadecimal number of format XX:XX:XX:XX:XX:XX"];case"presentElement":return t.length>0?null:[s(e)+" is required."];case"unique":return n[c[1]].indexOf(t)<0?null:[s(e)+" already esists."];case"url":return t?/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/.test(t)?null:[s(e)+" is not a valid Url."]:null;case"image_dimensions":var r=c[1].split("=");switch(r[0]=r[0].trim().toLowerCase(),r[0]){case"fixed":var i=r[1].split(",");return parseInt(i[0])===parseInt(i[2])&&parseInt(i[1])===parseInt(i[3])?null:["Image height, width must be "+i[0]+", "+i[1]+" ."];case"min":var l=r[1].split(",");return parseInt(l[0])<=parseInt(l[2])&&parseInt(l[1])<=parseInt(l[3])?null:["Image height, width must be mimimum of "+l[0]+", "+l[1]+" ."];case"max":var o=r[1].split(",");return parseInt(o[0])>=parseInt(o[2])&&parseInt(o[1])>=parseInt(o[3])?null:["Image height, width must be maximum of "+o[0]+", "+o[1]+" ."]}break;default:return null}}function s(e){var t=e.split("_");return(t=t.map((function(e){return b(e)}))).join(" ")}},vt=a(37),xt=a.n(vt),gt=a(58),yt=a(73),Nt=a.n(yt),_t=a(48),St=a(118),Ct={collapsed:!1},Et={type:"",varient:"",message:"",title:"",showSnackbar:!1},kt="FETCH_INVENTORIES_PROCESSING",wt="FETCH_INVENTORIES_SUCCESS",Rt="FETCH_INVENTORIES_ERROR",Tt="FETCH_INVENTORY_PROCESSING",It="FETCH_INVENTORY_SUCCESS",Ft="FETCH_INVENTORY_ERROR",At="UPDATE_INVENTORY_PROCESSING",Dt="UPDATE_INVENTORY_SUCCESS",Pt="UPDATE_INVENTORY_ERROR",qt="DELETE_INVENTORY_PROCESSING",Ut="DELETE_INVENTORY_SUCCESS",Bt="DELETE_INVENTORY_ERROR",Lt="CREATE_INVENTORY_PROCESSING",Mt="CREATE_INVENTORY_SUCCESS",Vt="CREATE_INVENTORY_ERROR",Ht={inventory:{},inventories:{},error:{},processing:!0},Gt={logged:{},me:{},error:{},processing:!0},Kt={customer:{},customers:{},error:{},processing:!0},zt={vendor:{},vendors:{},error:{},processing:!0},Wt={sales:{},salesReport:{},error:{},processing:!0},Yt={category:{},categories:{},error:{},processing:!0},Qt={debtor:{},debtors:{},error:{},processing:!0},Xt=Object(_t.b)({site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_SIDEBAR_SUCCESS"===t.type?Object(x.a)(Object(x.a)({},e),{},{collapsed:t.payload}):e},alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(x.a)(Object(x.a)({},e),{},{type:"success",message:t.message,showSnackbar:!0});case _:return Object(x.a)(Object(x.a)({},e),{},{type:"error",message:t.message,showSnackbar:!0});case S:return Object(x.a)(Object(x.a)({},e),{},{type:"",message:"",title:"",showSnackbar:!1});case C:return{};default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(x.a)(Object(x.a)({},e),{},{logged:t.payload,processing:!1,error:{}});case w:return Object(x.a)(Object(x.a)({},e),{},{error:t.payload,processing:!1,logged:{}});case k:return Object(x.a)(Object(x.a)({},e),{},{processing:!1});case R:return Object(x.a)(Object(x.a)({},e),{},{me:t.payload.data,processing:!1,error:{}});case T:return Object(x.a)(Object(x.a)({},e),{},{error:t.payload,processing:!1,me:{}});case I:return Object(x.a)(Object(x.a)({},e),{},{processing:!1});default:return e}},inventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:return Object(x.a)(Object(x.a)({},e),{},{inventory:t.payload.data,processing:!1,error:{}});case Ft:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,inventory:{}});case Tt:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});case wt:return Object(x.a)(Object(x.a)({},e),{},{inventories:t.payload.data,processing:!1,error:{}});case Rt:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,inventories:{}});case kt:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});default:return e}},customers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(x.a)(Object(x.a)({},e),{},{customer:t.payload.data,processing:!1,error:{}});case U:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,customer:{}});case P:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});case A:return Object(x.a)(Object(x.a)({},e),{},{customers:t.payload.data,processing:!1,error:{}});case D:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,customers:{}});case F:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});default:return e}},vendors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(x.a)(Object(x.a)({},e),{},{vendor:t.payload.data,processing:!1,error:{}});case X:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,vendor:{}});case Y:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});case z:return Object(x.a)(Object(x.a)({},e),{},{vendors:t.payload.data,processing:!1,error:{}});case W:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,vendors:{}});case K:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(x.a)(Object(x.a)({},e),{},{sales:t.payload.data,processing:!1,error:{}});case ce:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,sales:{}});case se:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});case re:return Object(x.a)(Object(x.a)({},e),{},{salesReport:t.payload.data,processing:!1,error:{}});case ie:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,salesReport:{}});case le:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(x.a)(Object(x.a)({},e),{},{category:t.payload.data,processing:!1,error:{}});case he:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,category:{}});case je:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});case de:return Object(x.a)(Object(x.a)({},e),{},{categories:t.payload.data,processing:!1,error:{}});case ue:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,categories:{}});case oe:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});default:return e}},debtors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(x.a)(Object(x.a)({},e),{},{debtor:t.payload.data,processing:!1,error:{}});case Ce:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,debtor:{}});case _e:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});case ye:return Object(x.a)(Object(x.a)({},e),{},{debtors:t.payload.data,processing:!1,error:{}});case Ne:return Object(x.a)(Object(x.a)({},e),{},{error:{data:t.payload},processing:!1,debtors:{}});case ge:return Object(x.a)(Object(x.a)({},e),{},{processing:!0});default:return e}}}),Jt=function(e,t){return Xt(e,t)},Zt={},$t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_t.c,ea=Object(_t.d)(Jt,Zt,$t(Object(_t.a)(St.a)));ea.subscribe((function(){!function(e){localStorage.setItem("ReduxStr",JSON.stringify(e.getState()))}(ea)}));var ta=ea,aa=Nt.a.create({baseURL:"https://ims-backend.sandeshsingh.com.np/api"}),na=0;aa.interceptors.request.use((function(e){if(!(na>0)){var t=localStorage.getItem("_Bearer");return t&&(e.headers.Authorization="Bearer "+t),e}setTimeout((function(){var t=localStorage.getItem("_Bearer");return t&&(e.headers.Authorization="Bearer "+t),e}),3e3)}),(function(e){return Promise.reject(e)})),aa.interceptors.response.use((function(e){return e}),function(){var e=Object(gt.a)(xt.a.mark((function e(t){var a,n,c;return xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.status||401!==t.status||a._retry){e.next=12;break}if(ta.dispatch(Ae(t.data.message)),!ia()){e.next=12;break}return n=localStorage.getItem("_Bearer"),localStorage.clear(),a._retry=!0,e.next=9,la(n);case 9:return c=e.sent,Nt.a.defaults.headers.common.Authorization="Bearer "+c,e.abrupt("return",aa(a));case 12:return e.abrupt("return",Promise.reject(t.response));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ca=function(e,t){return{type:e,payload:t}},sa=function(e,t){return{type:e,payload:t}},ra=function(e,t){return{type:e,payload:t}},ia=function(){var e=localStorage.getItem("_Bearer");return!u()(e)&&Object(j.a)(e).exp<Date.now()/1e3},la=function(){var e=Object(gt.a)(xt.a.mark((function e(t){var a;return xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return na++,a={url:"https://ims-backend.sandeshsingh.com.np/apirefresh",method:"get",data:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.abrupt("return",Nt()(a).then((function(e){return na--,oa(e.data.token),e.data.token})).catch((function(e){na--})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oa=function(e){e?(aa.defaults.headers.common.Authorization="Bearer "+e,localStorage.setItem("_Bearer",e)):(delete aa.defaults.headers.common.Authorization,localStorage.removeItem("_Bearer"))},da=function(e){var t=Object(n.useState)({data:{username:"",password:""},error:{}}),a=Object(g.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){m()&&e.history.push("/dashboard")}),[]);var r=Object(i.c)(),l=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value,r=Object(x.a)({},c.data),i=Object(x.a)({},c.error);r[a]=n,""!==i[a]&&(i[a]=""),s(Object(x.a)(Object(x.a)({},c),{},{data:r,error:i}))},o={username:["required"],password:["required"]},d=function(t){var a=c.data,n=c.error;t.preventDefault();var i,l=ft(a,o,n,!1);if(l.localvalidationerror)s(Object(x.a)(Object(x.a)({},c),{},{error:l.error}));else{var d=a.username,u=a.password;r((i={username:d,password:u},function(e){return e(ra(k,!0)),aa.post("/login",i).then((function(t){var a=Object(j.a)(t.data&&t.data.token);return localStorage.setItem("_Bearer",t.data&&t.data.token),e(ca(E,a)),t}),(function(t){var a;return e(sa(w,t)),e(Ae(t&&(null===(a=t.data)||void 0===a?void 0:a.message))),t}))})).then((function(t){t&&200===t.status&&e.history.push("/dashboard")}))}},u=(c.data,c.error);return Object(rt.jsx)("div",{className:"content",children:Object(rt.jsx)("div",{className:"row content-wrapper",children:Object(rt.jsx)("div",{className:"col-12 mx-auto",children:Object(rt.jsxs)("div",{className:"card z-index-0",children:[Object(rt.jsx)("div",{className:"card-header text-center pt-4",children:Object(rt.jsx)("h5",{children:"Login with"})}),Object(rt.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(rt.jsx)("div",{className:"ml-auto px-1",style:{color:"#fff",fontSize:50},children:Object(rt.jsx)("i",{className:"fab fa-facebook"})}),Object(rt.jsx)("div",{className:"mx-auto px-1 ",style:{color:"#fff",fontSize:50},children:Object(rt.jsx)("i",{className:"fab fa-apple"})}),Object(rt.jsx)("div",{className:"mr-auto px-1",style:{color:"#fff",fontSize:50},children:Object(rt.jsx)("i",{className:"fab fa-google"})})]}),Object(rt.jsx)("div",{className:"mt-2 text-center",style:{position:"relative"},children:Object(rt.jsx)("p",{className:"text-sm font-weight-bold mb-2 text-secondary text-border d-inline z-index-2 px-3",children:"or"})}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsxs)("form",{onSubmit:function(e){return d(e)},children:[Object(rt.jsxs)("div",{className:"mb-3",children:[Object(rt.jsx)("input",{type:"username",name:"username",className:"form-control",placeholder:"Enter Your Username","aria-label":"Email",onChange:l}),u.username&&Object(rt.jsx)("small",{className:"text-danger",children:u.username})]}),Object(rt.jsxs)("div",{className:"mb-3",children:[Object(rt.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Password","aria-label":"Password",onChange:l}),u.password&&Object(rt.jsx)("small",{className:"text-danger",children:u.password})]}),Object(rt.jsx)("div",{className:"text-center",children:Object(rt.jsx)("button",{type:"submit",className:"btn bg-gradient-dark w-100 my-4 mb-2",children:"Login"})})]})})]})})})})},ua=(a(162),function(e){return Object(rt.jsx)("div",{className:"loader",style:e.style,children:Object(rt.jsx)("svg",{viewBox:"0 0 80 80",children:Object(rt.jsx)("circle",{id:"test",cx:"40",cy:"40",r:"32"})})})}),ja=function(e){var t=e.name,a=e.onChange,n=e.label,c=e.value,s=e.error,r=e.type,i=e.disabled,l=e.placeholder;return Object(rt.jsxs)("div",{className:"form-group",children:[Object(rt.jsx)("label",{htmlFor:t||n,children:n||""}),Object(rt.jsx)("input",{className:"form-control ".concat(s&&"is-invalid"),name:t,value:c,type:r||"text",onChange:a,id:t,disabled:i,placeholder:l}),s&&Object(rt.jsx)("small",{className:"text-danger",children:s})]})},ba=function(e){var t=e.name,a=e.onChange,n=e.label,c=e.value,s=e.error;return Object(rt.jsxs)("div",{className:"form-group",children:[Object(rt.jsxs)("div",{class:"custom-file",children:[Object(rt.jsx)("input",{type:"file",className:"custom-file-input ".concat(s&&"is-invalid"),name:t,id:t,onChange:a,value:c,lang:"en"}),Object(rt.jsx)("label",{className:"custom-file-label",for:t||n,children:n||""})]}),s&&Object(rt.jsx)("small",{className:"text-danger",children:s})]})},ha=a(217),ma=function(e){var t=e.options,a=e.onSubmit,n=e.onCancel,c=e.onReset,s=e.onBack,r=e.onCreate;return Object(rt.jsx)("div",{className:"ml-auto",children:t&&t.map((function(e,t){return e.includes("save")?Object(rt.jsxs)("button",{className:"btn btn-sm",onClick:a,id:"save",children:[Object(rt.jsx)("i",{class:"ri-save-line"}),Object(rt.jsx)(ha.a,{target:"save",placement:"bottom",children:"Save / Submit"})]}):e.includes("cancel")?Object(rt.jsxs)("button",{className:"btn btn-sm",onClick:n,id:"cancel",children:[Object(rt.jsx)("i",{class:"ri-close-line"}),Object(rt.jsx)(ha.a,{target:"cancel",placement:"bottom",children:"Cancel"})]}):e.includes("reset")?Object(rt.jsxs)("button",{className:"btn btn-sm",onClick:c,id:"reset",children:[Object(rt.jsx)("i",{class:"ri-restart-line"}),Object(rt.jsx)(ha.a,{target:"reset",placement:"bottom",children:"Reset Form"})]}):e.includes("back")?Object(rt.jsxs)("button",{className:"btn btn-sm",onClick:s,id:"back",children:[Object(rt.jsx)("i",{class:"ri-arrow-go-back-line"}),Object(rt.jsx)(ha.a,{target:"back",placement:"bottom",children:"Go Back"})]}):!!e.includes("create")&&Object(rt.jsxs)("button",{className:"btn btn-sm rounded-20 px-2 py-1",onClick:r,id:"create",children:[Object(rt.jsx)("i",{class:"ri-add-fill"}),Object(rt.jsx)(ha.a,{target:"create",placement:"bottom",children:"Create New"})]})}))})},pa=function(e){var t=e.name,a=e.onChange,n=e.error,c=e.checked,s=e.label;return Object(rt.jsxs)("div",{className:"d-flex align-items-center",children:[Object(rt.jsx)("label",{htmlFor:t,className:"form-check-label",children:s||"Active"}),Object(rt.jsx)("input",{name:t,id:t,type:"checkbox",className:"ml-auto",onChange:a,checked:c}),n&&Object(rt.jsx)("small",{className:"text-danger",children:n})]})},Oa=(a(104),function(e){return function(t){t(ca("TOGGLE_SIDEBAR_SUCCESS",e))}}),fa=function(e){var t=Object(i.d)((function(e){return{sidebar:e.site.collapsed}}),i.b).sidebar,a=e.title,c=e.subtitle,s=e.links,r=e.options,o=e.onSubmit,d=e.onBack,u=e.onCancel,j=e.onReset,b=e.loading,h=e.onCreate;return Object(rt.jsxs)("main",{className:"main ".concat(t?"toggled":""),id:"main",children:[Object(rt.jsxs)("div",{className:"pageHeader",children:[Object(rt.jsxs)("h5",{className:"h5 pt-4 px-4 px-md-4 mb-0",children:[a&&Object(rt.jsxs)("h3",{className:"pageTitle",children:[a,c&&Object(rt.jsx)("small",{className:"text-muted",children:c})]}),Object(rt.jsx)("div",{className:"title-breadcrum ",children:Object(rt.jsx)("nav",{"aria-label":"breadcrumb",children:Object(rt.jsxs)("ol",{className:"breadcrumb m-0 ".concat(r&&"px-2 py-1 align-items-center"),children:[Object(rt.jsx)("li",{className:"breadcrumb-item",children:Object(rt.jsxs)(l.c,{to:"/dashboard",title:"Dashboard",className:"text-decoration-none",children:[Object(rt.jsx)("i",{className:"fa fa-home"})," Dashboard"]})}),s&&s.map((function(e,t){return Object(rt.jsx)(n.Fragment,{children:Object(rt.jsx)("li",{className:"breadcrumb-item",children:e.link?Object(rt.jsx)(l.c,{to:e.link,title:e.name,className:"text-decoration-none",children:e.name}):Object(rt.jsx)("a",{href:!0,className:"text-decoration-none",children:e.name})})},t)})),Object(rt.jsx)(ma,{options:r,onSubmit:o,onCancel:u,onBack:d,onReset:j,onCreate:h})]})})})]}),Object(rt.jsx)("div",{className:"my-2"})]}),Object(rt.jsx)("div",{className:"mainContent container-fluid px-4 px-md-4 pt-2",children:Object(rt.jsx)("section",{className:"content-frame",children:b?Object(rt.jsx)("div",{className:"d-flex h-100 align-items-center justify-content-center",children:Object(rt.jsx)(ua,{})}):e.children})})]})},va=a(8),xa=function(e){e=e||{};return function(t){t(ra(kt,!0));var a={limit:e.limit||10,page:e.page||1,q:e.q||"",sort_field:e.sort_field||"id",sort_by:e.sort_by||"desc"};e.filter&&e.filter.map((function(e){e.value&&(a["filter[".concat(e.key,"]")]=e.value)}));var n={params:a};return aa.get("/products",n).then((function(e){return t(ca(wt,e)),e}),(function(e){var a;return t(sa(Rt,e)),(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)&&t(Ae(e.data.message)),e}))}},ga=function(e){return function(t){return t(ra(Lt,!0)),aa.post("/products",e).then((function(e){return t(ca(Mt,e)),e}),(function(e){return t(sa(Vt,e)),e}))}},ya=a(70),Na=a(41),_a=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={showTitle:!1,limit:10,filter:[],filter_restore:[]},e}return Object(qe.a)(a,[{key:"componentDidMount",value:function(){this.setState({filter:Object(va.a)(this.props.filter),filter_restore:Object(va.a)(this.props.filter)})}},{key:"componentDidUpdate",value:function(e,t,a){this.props.filter!==e.filter&&this.setState({filter:Object(va.a)(this.props.filter)})}},{key:"onFilterChange",value:function(e,t){var a=this,n=a.props.applyFilterOnSelect,c=e.target.name,s=e.target.value,r=Object(va.a)(a.state.filter),i=r.findIndex((function(e){return e.key===c}));if(i>-1){var l=Object(x.a)({},r[i]);l.value=s,r[i]=l,a.setState({filter:r})}n&&a.props.onApplyFilters(r)}},{key:"onToggleShowFilter",value:function(){var e=this,t=Object(va.a)(this.state.filter_restore);e.setState({filter:t},(function(){e.props.onToggleShowFilter()}))}},{key:"onApplyFilters",value:function(){var e=this,t=this;t.setState({filter_restore:Object(va.a)(this.state.filter)},(function(){t.props.onApplyFilters(e.state.filter_restore)}))}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.onApplyFilters()}},{key:"deleteActiveFilter",value:function(e){var t=this,a=Object(va.a)(this.state.filter_restore),n=a.findIndex((function(t){return t.key===e}));if(n>-1){var c=a[n];c.value="",a[n]=c,t.setState({filter_restore:a},(function(){t.props.deleteActiveFilter(e)}))}}},{key:"clearActiveFilter",value:function(e){var t=this,a=Object(va.a)(this.state.filter_restore);a.map((function(e){e.value=""})),t.setState({filter_restore:a,filter:a},(function(){t.props.clearActiveFilter()}))}},{key:"getTitle",value:function(e,t){var a,n="",c=Object(ya.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(e===s.value+""){n=s.name;break}}}catch(r){c.e(r)}finally{c.f()}return n}},{key:"render",value:function(){var e=this,t=this.props,a=t.limit,n=t.limitChange,c=t.showFilterOptions,s=t.onToggleShowFilter,r=(t.min,t.applyFilterOnSelect),i=t.nonSticky,l=(t.showFilterIcon,Object(va.a)(this.state.filter)),o=Object(va.a)(this.state.filter_restore),d=[];o.map((function(e){e.value&&d.push(e)}));var u=[];return Object.keys(l).map((function(t){var a=l[t],n=1*t+1;"from"===a.range?n<l.length&&"to"===l[n].range?u.push(Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?a.name:h(a.key)," "]}),Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-3",children:Object(rt.jsx)("label",{className:"dropdown-sub-title",children:"from"})}),Object(rt.jsx)("div",{className:"col-xs-9",children:Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm width-100",type:"date",name:a.key,onChange:function(t){return e.onFilterChange(t)},value:a.value})})]}),Object(rt.jsxs)("div",{className:"row admin-margin-top",children:[Object(rt.jsx)("div",{className:"col-xs-3",children:Object(rt.jsx)("label",{className:"dropdown-sub-title",children:"to"})}),Object(rt.jsx)("div",{className:"col-xs-9",children:Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm",name:l[n].key,type:"date",onChange:function(t){return e.onFilterChange(t)},value:l[n].value})})]})]})})):u.push(Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:"select"===a.type?Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsxs)("select",{className:"form-control input-sm width-100",name:a.key,onChange:function(t){return e.onFilterChange(t)},value:a.value,onKeyPress:function(t){return e.onKeyPress(t)},children:[Object(rt.jsxs)("option",{value:"-----",children:["Select ",a.name]}),a.options&&a.options.map((function(e){return Object(rt.jsx)("option",{value:e.value,children:e.name})}))]})]}):Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm width-100",name:a.key,type:a.type?a.type:"text",onChange:function(t){return e.onFilterChange(t)},value:a.value}),"min=",a.min]})})):"to"!==a.range&&u.push(Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:"select"===a.type?Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsxs)("select",{className:"form-control input-sm width-100",name:a.key,onChange:function(t){return e.onFilterChange(t)},value:a.value,onKeyPress:function(t){return e.onKeyPress(t)},children:[Object(rt.jsxs)("option",{value:"-----",children:["Select ",a.name]}),a.options&&a.options.map((function(e){return Object(rt.jsx)("option",{value:e.value,children:e.name})}))]})]}):Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm width-100",name:a.key,min:a.min,type:a.type?a.type:"text",onChange:function(t){return e.onFilterChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},value:a.value})]})}))})),Object(rt.jsx)("div",{className:i?"actionHeaderFilterNonSticky":"actionHeaderFilter",children:Object(rt.jsxs)("div",{className:"",style:{paddingBottom:"0"},children:[Object(rt.jsx)("div",{className:"dataTables_wrapper datatableFilterBarFixed",children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-lg-6 col-6",children:!this.props.hidelimit&&Object(rt.jsx)("div",{className:"dataTables_length pt-2",id:"example1_length",children:Object(rt.jsxs)("label",{className:"d-inline-flex mb-0",children:[Object(rt.jsx)("p",{className:"mt-2 mr-1 mb-0",children:"Show \xa0"}),Object(rt.jsxs)("select",{name:"example1_length",value:a,onChange:function(e){return n(e)},className:"form-control input-sm",children:[!["10","25","50","100"].includes(a)&&Object(rt.jsx)("option",{value:a,children:a}),Object(rt.jsx)("option",{value:"10",children:"10"}),Object(rt.jsx)("option",{value:"25",children:"25"}),Object(rt.jsx)("option",{value:"50",children:"50"}),Object(rt.jsx)("option",{value:"100",children:"100"})]}),Object(rt.jsx)("p",{className:"mt-2 mb-0",children:"\xa0entries"})]})})}),Object(rt.jsx)("div",{className:"col-lg-6 col-6 text-right pt-2",children:s&&Object(rt.jsx)("div",{className:c?" pull-right":"pull-right",children:c?Object(rt.jsx)("div",{className:"active",children:Object(rt.jsxs)("button",{className:"btn btn-secondary btn-sm",onClick:function(t){return e.onToggleShowFilter(t)},style:{color:"#06a559"},children:[Object(rt.jsx)("i",{className:"fas fa-filter"}),"\xa0Filters"]})}):Object(rt.jsx)("div",{children:Object(rt.jsxs)("button",{onClick:function(e){return s(e)},className:"btn btn-secondary btn-sm",children:[Object(rt.jsx)("i",{className:"fas fa-filter"}),"\xa0Filters"]})})})})]})}),d.length>0&&Object(rt.jsxs)("div",{className:"row d-flex align-items-center",style:{padding:"8px 0px 5px 0px"},children:[Object(rt.jsx)("div",{className:"col-md-2",children:" Active Filters :"}),Object(rt.jsx)("div",{className:"col-md-8",children:d.map((function(t){return Object(rt.jsx)("div",{className:"thumbnailList",style:{paddingBottom:"0px"},children:Object(rt.jsxs)("span",{"data-src":"8",className:"badge bg-light",children:[Object(rt.jsxs)("span",{style:{fontWeight:"500"},children:[h(t.name)," :"]}),Object(rt.jsx)("span",{style:{fontWeight:"400",paddingRight:"10px"},children:"select"===t.type?e.getTitle(t.value,t.options):t.value}),Object(rt.jsx)("i",{className:"fa fa-times-circle text-danger",style:{cursor:"pointer"},onClick:function(a){return e.deleteActiveFilter(t.key,a)}})]})})}))}),Object(rt.jsx)("div",{className:"col-md-2",children:Object(rt.jsxs)("button",{className:"btn btn-sm btn-secondary width-100",onClick:function(t){return e.clearActiveFilter(t)},children:[Object(rt.jsx)("span",{children:Object(rt.jsx)("i",{className:"ri-arrow-go-back-fill"})}),"\xa0Clear all"]})})]}),!0===c&&Object(rt.jsx)("div",{className:"tab-content",style:{border:"1px solid #ddd",borderRadius:".5rem"},children:Object(rt.jsx)("div",{className:"tab-pane active filterOpenTab",children:Object(rt.jsxs)("div",{className:"row",children:[u,Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:!r&&Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsx)("label",{children:" \xa0 "}),Object(rt.jsx)("br",{}),Object(rt.jsx)("button",{className:"btn btn-success width-100",onClick:function(t){return e.onApplyFilters(t)},children:"Apply Filters"})]})})]})})})]})})}}]),a}(n.Component);var Sa=Object(Na.a)((function(e){}))(_a),Ca=function(e){var t=e.columns,a=e.data,c=e.BodyClass,s=e.HeaderClass,r=e.tableClass,i=e.useBody,l=e.useChildren,o=e.children,d=e.callback,u=e.sort_by,j=e.sort_field,b=e.onClickHeader,h=Object(n.useState)(i||!l),m=Object(g.a)(h,2),p=m[0],O=m[1],f=Object(n.useState)(l||!1),v=Object(g.a)(f,2),x=v[0],y=v[1];Object(n.useEffect)((function(){o&&(y(!0),O(!1))}),[o]);var N=function(e){return t&&t.map((function(t,a){return"object"===typeof t?Object(rt.jsx)("td",{style:t.alignment?{textAlign:t.alignment,cursor:"pointer"}:{cursor:"pointer"},onClick:function(){return!t.noPush&&d&&d(e.id)},children:_(e,t.name.toLowerCase())},a):Object(rt.jsx)("td",{style:{cursor:"pointer"},onClick:function(){return d&&d(e.id)},children:_(e,t)},a)}))},_=function(e,t){if(t&&e){if(t.includes(".")){for(var a=t.split("."),n=e,c=0;c<a.length;c++)if(!(n=n[a[c]]))return"-";return n}return e[t]?e[t]:"-"}return"-"};return Object(rt.jsxs)("table",{className:"".concat(r||""," table table-hover"),children:[Object(rt.jsx)("thead",{className:s||"",children:Object(rt.jsx)("tr",{children:t&&t.map((function(e,t){if(void 0===e.show||e.show)return!0===e.sortable?Object(rt.jsx)(Sa,{table_width:e.width,label:e.label.toUpperCase(),name:e.name?e.name:e.label,tableColumnClick:b,sort_by:u,sort_field:j,align:e.alignment},e.name?e.name:e.label):"object"===typeof e?Object(rt.jsx)("th",{width:e.width,style:e.alignment&&{textAlign:e.alignment},children:e.label?e.label.toUpperCase():e.name&&e.name.replace(/_/g," ").toUpperCase()},t):Object(rt.jsx)("th",{width:e.width,children:e&&e.replace(/_/g," ").toUpperCase()},t)}))})}),Object(rt.jsxs)("tbody",{className:c||"",children:[p&&a&&a.length>0&&a.map((function(e,t){return Object(rt.jsx)("tr",{children:N(e,t)},t)})),x&&o]})]})},Ea=function(e){var t=e.id,a=e.handleToggleModal,s=e.type,r=e.noView,i=e.noDelete,o=e.noEdit,d=(e.actionBtn,Object(n.useState)([{type:"link",path:"/".concat(s,"/").concat(t),title:"View",newWindow:!1,icon:"ri-eye-fill",class:"table-view"},{type:"link",path:"/".concat(s,"/").concat(t,"/edit"),title:"Edit",newWindow:!1,icon:"ri-pencil-fill",class:"table-edit"}])),u=Object(g.a)(d,2),j=u[0],b=u[1];Object(n.useEffect)((function(){r&&function(){var e=Object(va.a)(j),t=e&&e.findIndex((function(e){return"View"===e.title}));e.splice(t,1),b(e)}(),o&&function(){var e=Object(va.a)(j),t=e&&e.findIndex((function(e){return"Edit"===e.title}));e.splice(t,1),b(e)}()}),[r,o]),Object(n.useEffect)((function(){o&&r&&b([])}),[o,r]);var h=c.a.memo((function(e){var t=e.link;return Object(rt.jsx)(l.c,{to:t.path?t.path:"#",title:t.title,className:t.class,children:Object(rt.jsx)("i",{className:t.icon})})}));return Object(rt.jsxs)("div",{className:"btn-group",children:[j.map((function(e,t){return Object(rt.jsx)(h,{link:e},t)})),i?"":Object(rt.jsx)("a",{href:!0,onClick:function(e){e.stopPropagation(),a(t)},title:"Delete",className:"table-delete",children:Object(rt.jsx)("i",{className:"ri-delete-bin-6-fill"})})]})},ka=function(e){var t=e.status,a=e.callback,n=e.activeLabel,c=e.inActiveLabel;return 1===t||"1"===t?Object(rt.jsx)("div",{onClick:a?function(){return a()}:"",style:{width:"80px !important",maxWidth:"80px !important",cursor:"default"},children:Object(rt.jsx)("span",{className:"badge rounded-pill text-white bg-success",children:n||"Active"})}):Object(rt.jsx)("div",{onClick:a?function(){return a()}:"",style:{width:"80px !important",maxWidth:"80px !important",cursor:"default"},children:Object(rt.jsx)("span",{className:"badge rounded-pill text-white bg-danger",children:c||"Inactive"})})},wa=function(e){var t=e.current_page,a=e.last_page,c=e.changePage,s=e.pageFrom,r=e.pageTo,i=Object(n.useState)(t),l=Object(g.a)(i,2),o=l[0],d=l[1],u=Object(n.useState)(t),j=Object(g.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(a),p=Object(g.a)(m,2),O=(p[0],p[1]);Object(n.useEffect)((function(){f()}),[e]);for(var f=function(){O(t+3<a?t+3:a),d(t-3>0?t-3:1),h(t+3<a?t+3:a)},v=[],x=o;x<=b;x++)v.push(x);var y=v.map((function(e,a){return e===t?Object(rt.jsx)("li",{type:"button",className:"page-item ".concat(e===t?"active":""),children:Object(rt.jsx)("a",{href:!0,className:"page-link",onClick:function(){c(e)},children:e})},"page".concat(x)):Object(rt.jsx)("li",{type:"button",className:"page-item",children:Object(rt.jsx)("a",{href:!0,className:"page-link",onClick:function(){return c(e)},children:e})},a)}));return void 0===a||a<=1?Object(rt.jsx)(rt.Fragment,{}):Object(rt.jsxs)("div",{children:[Object(rt.jsxs)("span",{className:"",children:["Showing ",s," - ",r," entries"]}),Object(rt.jsxs)("ul",{className:"pagination float-right",children:[Object(rt.jsx)("li",{type:"button",className:"page-item ".concat(t<=1?"disabled":""),children:Object(rt.jsx)("a",{href:!0,className:"page-link",tabIndex:"-1","aria-disabled":"true",onClick:function(){return c(t-1)},children:"<"})}),y,Object(rt.jsx)("li",{type:"button",className:"page-item ".concat(t>=a?"disabled":""),children:Object(rt.jsx)("a",{href:!0,className:"page-link",onClick:function(){return c(t+1)},children:">"})})]})]})},Ra=function(e){var t=e.limit,a=e.limitChange,n=e.q,c=e.searchChange;return Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-lg-6 col-6 ",children:Object(rt.jsx)("div",{className:"dataTables_length pt-2",id:"example1_length",children:Object(rt.jsxs)("label",{className:"d-inline-flex",children:[Object(rt.jsx)("p",{className:"mt-2",children:"Show\xa0"}),Object(rt.jsxs)("select",{name:"example1_length",value:t,onChange:a,className:"form-control input-sm",style:{backgroundColor:"#171941"},children:[Object(rt.jsx)("option",{value:"10",children:"10"}),Object(rt.jsx)("option",{value:"25",children:"25"}),Object(rt.jsx)("option",{value:"50",children:"50"}),Object(rt.jsx)("option",{value:"100",children:"100"})]}),Object(rt.jsx)("p",{className:"mt-2",children:"\xa0entries"})]})})}),Object(rt.jsx)("div",{className:"col-lg-6 col-6 pt-2  text-right",children:Object(rt.jsx)("div",{id:"example1_filter",className:"dataTables_filter",children:Object(rt.jsxs)("label",{className:"d-inline-flex",children:[Object(rt.jsx)("p",{className:"mt-2",children:"Search:\xa0\xa0"}),Object(rt.jsx)("input",{type:"search",className:"form-control input-sm",value:n,onChange:c})]})})})]})},Ta=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={showTitle:!1,limit:10,filter:[],filter_restore:[]},e}return Object(qe.a)(a,[{key:"componentDidMount",value:function(){this.setState({filter:Object(va.a)(this.props.filter),filter_restore:Object(va.a)(this.props.filter)})}},{key:"componentDidUpdate",value:function(e,t,a){this.props.filter!==e.filter&&this.setState({filter:Object(va.a)(this.props.filter)})}},{key:"onFilterChange",value:function(e,t){var a=this,n=a.props.applyFilterOnSelect,c=e.target.name,s=e.target.value,r=Object(va.a)(a.state.filter),i=r.findIndex((function(e){return e.key===c}));if(i>-1){var l=Object(x.a)({},r[i]);l.value=s,r[i]=l,a.setState({filter:r})}n&&a.props.onApplyFilters(r)}},{key:"onToggleShowFilter",value:function(){var e=this,t=Object(va.a)(this.state.filter_restore);e.setState({filter:t},(function(){e.props.onToggleShowFilter()}))}},{key:"onApplyFilters",value:function(){var e=this,t=this;t.setState({filter_restore:Object(va.a)(this.state.filter)},(function(){t.props.onApplyFilters(e.state.filter_restore)}))}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.onApplyFilters()}},{key:"deleteActiveFilter",value:function(e){var t=this,a=Object(va.a)(this.state.filter_restore),n=a.findIndex((function(t){return t.key===e}));if(n>-1){var c=a[n];c.value="",a[n]=c,t.setState({filter_restore:a},(function(){t.props.deleteActiveFilter(e)}))}}},{key:"clearActiveFilter",value:function(e){var t=this,a=Object(va.a)(this.state.filter_restore);a.map((function(e){e.value=""})),t.setState({filter_restore:a,filter:a},(function(){t.props.clearActiveFilter()}))}},{key:"getTitle",value:function(e,t){var a,n="",c=Object(ya.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(e===s.value+""){n=s.name;break}}}catch(r){c.e(r)}finally{c.f()}return n}},{key:"render",value:function(){var e=this,t=this.props,a=t.limit,n=t.limitChange,c=t.showFilterOptions,s=t.onToggleShowFilter,r=(t.min,t.applyFilterOnSelect),i=t.nonSticky,l=(t.showFilterIcon,Object(va.a)(this.state.filter)),o=Object(va.a)(this.state.filter_restore),d=[];o.map((function(e){e.value&&d.push(e)}));var u=[];return Object.keys(l).map((function(t){var a=l[t],n=1*t+1;"from"===a.range?n<l.length&&"to"===l[n].range?u.push(Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?a.name:h(a.key)," "]}),Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-3",children:Object(rt.jsx)("label",{className:"dropdown-sub-title",children:"from"})}),Object(rt.jsx)("div",{className:"col-xs-9",children:Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm width-100",type:"date",name:a.key,onChange:function(t){return e.onFilterChange(t)},value:a.value})})]}),Object(rt.jsxs)("div",{className:"row admin-margin-top",children:[Object(rt.jsx)("div",{className:"col-xs-3",children:Object(rt.jsx)("label",{className:"dropdown-sub-title",children:"to"})}),Object(rt.jsx)("div",{className:"col-xs-9",children:Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm",name:l[n].key,type:"date",onChange:function(t){return e.onFilterChange(t)},value:l[n].value})})]})]})})):u.push(Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:"select"===a.type?Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsxs)("select",{className:"form-control input-sm width-100",name:a.key,onChange:function(t){return e.onFilterChange(t)},value:a.value,onKeyPress:function(t){return e.onKeyPress(t)},children:[Object(rt.jsxs)("option",{value:"-----",children:["Select ",a.name]}),a.options&&a.options.map((function(e){return Object(rt.jsx)("option",{value:e.value,children:e.name})}))]})]}):Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm width-100",name:a.key,type:a.type?a.type:"text",onChange:function(t){return e.onFilterChange(t)},value:a.value}),"min=",a.min]})})):"to"!==a.range&&u.push(Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:"select"===a.type?Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsxs)("select",{className:"form-control input-sm width-100",name:a.key,onChange:function(t){return e.onFilterChange(t)},value:a.value,onKeyPress:function(t){return e.onKeyPress(t)},children:[Object(rt.jsxs)("option",{value:"-----",children:["Select ",a.name]}),a.options&&a.options.map((function(e){return Object(rt.jsx)("option",{value:e.value,children:e.name})}))]})]}):Object(rt.jsxs)("div",{className:"form-group width-100",children:[Object(rt.jsxs)("label",{className:"dropdown-title",children:[" ",a.name?h(a.name):h(a.key)," "]}),Object(rt.jsx)("br",{}),Object(rt.jsx)("input",{className:"form-control dropdown-form-control input-sm width-100",name:a.key,min:a.min,type:a.type?a.type:"text",onChange:function(t){return e.onFilterChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},value:a.value})]})}))})),Object(rt.jsx)("div",{className:i?"actionHeaderFilterNonSticky":"actionHeaderFilter",children:Object(rt.jsxs)("div",{className:"",style:{paddingBottom:"0"},children:[Object(rt.jsx)("div",{className:"dataTables_wrapper datatableFilterBarFixed",children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-lg-6 col-6",children:!this.props.hidelimit&&Object(rt.jsx)("div",{className:"dataTables_length pt-2",id:"example1_length",children:Object(rt.jsxs)("label",{className:"d-inline-flex mb-0",children:[Object(rt.jsx)("p",{className:"mt-2 mr-1 mb-0",children:"Show \xa0"}),Object(rt.jsxs)("select",{name:"example1_length",value:a,onChange:function(e){return n(e)},className:"form-control input-sm",style:{backgroundColor:"#171941"},children:[!["10","25","50","100"].includes(a)&&Object(rt.jsx)("option",{value:a,children:a}),Object(rt.jsx)("option",{value:"10",children:"10"}),Object(rt.jsx)("option",{value:"25",children:"25"}),Object(rt.jsx)("option",{value:"50",children:"50"}),Object(rt.jsx)("option",{value:"100",children:"100"})]}),Object(rt.jsx)("p",{className:"mt-2 mb-0",children:"\xa0entries"})]})})}),Object(rt.jsx)("div",{className:"col-lg-6 col-6 text-right pt-2",children:s&&Object(rt.jsx)("div",{className:c?" pull-right":"pull-right",children:c?Object(rt.jsx)("div",{className:"active",children:Object(rt.jsxs)("button",{className:"btn btn-secondary btn-sm",onClick:function(t){return e.onToggleShowFilter(t)},style:{color:"#06a559"},children:[Object(rt.jsx)("i",{className:"fas fa-filter"}),"\xa0Filters"]})}):Object(rt.jsx)("div",{children:Object(rt.jsxs)("button",{onClick:function(e){return s(e)},className:"btn btn-secondary btn-sm",children:[Object(rt.jsx)("i",{className:"fas fa-filter"}),"\xa0Filters"]})})})})]})}),d.length>0&&Object(rt.jsxs)("div",{className:"row d-flex align-items-center",style:{padding:"8px 0px 5px 0px"},children:[Object(rt.jsx)("div",{className:"col col-md-2 col-sm-6",children:" Active Filters :"}),Object(rt.jsx)("div",{className:"col col-md-8 col-sm-6 d-flex align-items-center",children:d.map((function(t){return Object(rt.jsx)("div",{className:"thumbnailList ml-2",style:{paddingBottom:"0px"},children:Object(rt.jsxs)("span",{"data-src":"8",className:"badge",style:{border:"1px solid #777",borderRadius:"15px"},children:[Object(rt.jsxs)("span",{style:{fontWeight:"500"},children:[h(t.name)," :"]}),Object(rt.jsx)("span",{style:{fontWeight:"400",paddingRight:"10px"},children:"select"===t.type?e.getTitle(t.value,t.options):t.value}),Object(rt.jsx)("i",{className:"fa fa-times-circle text-danger",style:{cursor:"pointer"},onClick:function(a){return e.deleteActiveFilter(t.key,a)}})]})})}))}),Object(rt.jsx)("div",{className:"col col-md-2 col-sm-6",children:Object(rt.jsxs)("button",{className:"btn btn-sm btn-secondary float-right",onClick:function(t){return e.clearActiveFilter(t)},children:[Object(rt.jsx)("i",{className:"ri-arrow-go-back-fill"}),"\xa0Clear all"]})})]}),!0===c&&Object(rt.jsx)("div",{className:"tab-content",style:{border:"1px solid #ddd",borderRadius:".5rem"},children:Object(rt.jsx)("div",{className:"tab-pane active filterOpenTab p-3",children:Object(rt.jsxs)("div",{className:"row",children:[u,Object(rt.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 col-xs-6 auto-clear-lg-3 ",children:!r&&Object(rt.jsxs)("div",{className:"form-group",children:[Object(rt.jsx)("label",{children:" \xa0 "}),Object(rt.jsx)("br",{}),Object(rt.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(t){return e.onApplyFilters(t)},children:"Apply Filters"})]})})]})})})]})})}}]),a}(n.Component);var Ia=Object(Na.a)((function(e){}))(Ta),Fa=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(){return Object(Pe.a)(this,a),t.apply(this,arguments)}return Object(qe.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleToggleModel,a=e.deleteItem,n=e.title,c=e.message,s=e.tree_path,r=e.tree_path_extra,i=e.btnTitle;return Object(rt.jsx)("div",{className:"modal",style:{display:"block",height:"auto"},children:Object(rt.jsx)("div",{className:"modal-dialog modal-sm",children:Object(rt.jsxs)("div",{className:"modal-content",children:[Object(rt.jsxs)("div",{className:"modal-header",children:[Object(rt.jsx)("button",{type:"button",onClick:function(){return t()},className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(rt.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(rt.jsx)("h4",{className:"modal-title",children:n||""}),s&&s.tree_path&&Object(rt.jsx)("p",{children:"".concat(s.tree_path," > ").concat(r.name)})]}),Object(rt.jsx)("div",{className:"modal-body",children:Object(rt.jsx)("p",{children:c||"Are you sure to delete ?"})}),Object(rt.jsxs)("div",{className:"modal-footer",children:[Object(rt.jsx)("button",{type:"button",onClick:function(){return t()},className:"btn btn-default btn-sm pull-left","data-dismiss":"modal",children:"Cancel"}),Object(rt.jsx)("button",{onClick:function(){return a()},type:"button",className:"btn btn-success btn-sm confirm-delete",children:i||"Delete"})]})]})})})}}]),a}(n.Component),Aa=Fa,Da=a(67),Pa=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).wrapperRef=c.a.createRef(),n.handleClickOutside=n.handleClickOutside.bind(Object(Da.a)(n)),n}return Object(qe.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.current.contains(e.target)&&this.props.handleToggleModal()}},{key:"render",value:function(){var e=this.props,t=e.handleToggleModal,a=e.onSubmit,n=e.title,c=e.modalBody,s=e.btnTitle,r=e.actions,i=e.color;return Object(rt.jsx)("div",{className:"modal",style:{display:"block",height:"auto"},ref:this.wrapperRef,children:Object(rt.jsx)("div",{className:"modal-dialog modal-sm",children:Object(rt.jsxs)("div",{className:"modal-content",children:[Object(rt.jsxs)("div",{className:"modal-header",children:[Object(rt.jsx)("button",{type:"button",onClick:function(){return t()},className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(rt.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(rt.jsx)("h4",{className:"modal-title",children:n||""})]}),Object(rt.jsx)("div",{className:"modal-body text-center bg-".concat(i),children:c}),(r||null===r)&&Object(rt.jsxs)("div",{className:"modal-footer",children:[Object(rt.jsx)("button",{type:"button",onClick:function(){return t()},className:"btn btn-default btn-sm pull-left","data-dismiss":"modal",children:"Cancel"}),Object(rt.jsx)("button",{onClick:function(){return a()},type:"button",className:"btn btn-success btn-sm",children:s||"Save"})]})]})})})}}]),a}(n.Component),qa=a(121),Ua=function(e){var t=e.width,a=e.value;return Object(rt.jsx)(qa.QRCode,{bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:t||"auto",height:"auto",maxHeight:"256px"},value:a})},Ba=[{name:"Inventory",path:"/inventory"}],La=["id","name","color","actual_price",{name:"Quantity",alignment:"right"},{name:"status",alignment:"center"},{name:"is sold",alignment:"center"},{name:"purchased date",alignment:"right"},{name:"actions",alignment:"center"}],Ma=function(e){var t=e.location.pathname,a=e.location.search,c=Object(i.d)((function(e){return{inventories:e.inventory.inventories}}),i.b),s=c.inventories,r=Object(i.c)(),l=Object(n.useState)({data:{},showModal:!1}),o=Object(g.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(!0),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(n.useState)({showModal:!1,QRModal:!1}),y=Object(g.a)(O,2),N=y[0],_=y[1],S=Object(n.useState)({filter:[],limit:"10",page:1,q:"",sort_by:null,sort_field:null,filterKey:"",filterValue:null,showFilterOptions:!1}),C=Object(g.a)(S,2),E=C[0],k=C[1],w=function(e){d.showModal?_(Object(x.a)(Object(x.a)({},N),{},{showModal:!N.showModal})):_(Object(x.a)(Object(x.a)({},N),{},{showModal:!N.showModal,itemToDelete:e}))},R=function(){r(function(e){var t="/product/".concat(e);return function(e){return e(ra(qt,!0)),aa.delete(t).then((function(t){return e(ca(Ut,t)),e(Fe(null===t||void 0===t?void 0:t.data.message)),t}),(function(t){return e(sa(Bt,t)),t}))}}(N.itemToDelete)).then((function(e){return T()})),_(Object(x.a)(Object(x.a)({},N),{},{showModal:!N.showModal}))};Object(n.useEffect)((function(){var e=Object(va.a)(E.filter),t=Object(x.a)({},E),n=t.limit,c=t.page,s=t.q,r=t.sort_by,i=t.sort_field,l=v(a);Object.keys(l).map((function(t){if("page"===t)c=l[t];else if("limit"===t)n=l[t];else if("q"===t)s=l[t];else if("sort_by"===t)r=l[t];else if("sort_field"===t)i=l[t];else{var a=e.findIndex((function(e){return e.key===t}));a>-1&&(e[a].value=l[t])}})),k(Object(x.a)(Object(x.a)({},E),{},{limit:n,page:c,q:s,sort_by:r,sort_field:i,filter:e}))}),[]),Object(n.useEffect)((function(){T()}),[E]),Object(n.useEffect)((function(){s&&u(Object(x.a)(Object(x.a)({},d),{},{data:s}))}),[s]);var T=function(){var a=E.limit,n=E.page,c=E.q,s=E.sort_by,i=E.sort_field,l=E.filterKey,o=E.filterValue,d=E.filter;r(xa({limit:a,page:n,q:c,sort_by:s,sort_field:i,filterKey:l,filterValue:o,filter:d})).then((function(e){return m(!1)})),function(){var a=Object(va.a)(E.filter),n=Object(x.a)({},E),c=n.limit,s=n.page,r=n.q,i=n.sort_by,l=n.sort_field;a.push({key:"limit",value:c}),a.push({key:"page",value:s}),a.push({key:"q",value:r}),a.push({key:"sort_by",value:i}),a.push({key:"sort_field",value:l});var o=f(a);e.history.push({pathname:t,search:o})}()},I=function(e,t){d.QRModal?_(Object(x.a)(Object(x.a)({},N),{},{QRModal:!N.QRModal})):_(Object(x.a)(Object(x.a)({},N),{},{QRModal:!N.QRModal,itemID:t}))},F=d.data,A=F.data,D=F.current_page,P=F.from,q=F.last_page,U=(F.per_page,F.to),B=(F.total,h?Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:Object(rt.jsx)(ua,{})})}):A&&A.length>0?A.map((function(t,a){var n=t.id,c=t.actual_price,s=t.color,r=(t.price,t.product_name),i=t.status,l=t.purchased_date,o=t.is_sold,d=t.qty;return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:n}),Object(rt.jsx)("td",{role:"button",onClick:function(){return e.history.push("/inventory/".concat(n,"/edit"))},children:r||"-"}),Object(rt.jsx)("td",{children:s||"-"}),Object(rt.jsx)("td",{children:c||"-"}),Object(rt.jsx)("td",{className:"text-right",children:d||0}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(ka,{status:i})}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(ka,{status:o,activeLabel:"Yes",inActiveLabel:"No"})}),Object(rt.jsx)("td",{className:"text-right",children:l?p(l):"-"}),Object(rt.jsxs)("td",{className:"text-center",children:[Object(rt.jsx)("div",{className:"btn-group",onClick:function(e){return I(0,n)},children:Object(rt.jsx)("a",{href:!0,title:"Product QR",className:"table-edit",role:"button",children:Object(rt.jsx)("i",{className:"ri-qr-code-line"})})}),Object(rt.jsx)(Ea,{type:"inventory",noView:!0,id:n,handleToggleModal:function(e){return w(n)}})]})]},a)})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records"})}));return Object(rt.jsxs)(fa,{title:"Inventory",links:Ba,options:["create"],onCreate:function(){e.history.push("/inventory/new")},children:[N.showModal&&Object(rt.jsx)(Aa,{title:"Delete Product",handleToggleModel:function(){return w()},deleteItem:function(){return R()}}),N.QRModal&&Object(rt.jsx)(Pa,{title:"QR Code of Product With ID ".concat(N.itemID),modalBody:Object(rt.jsx)(Ua,{value:N.itemID}),handleToggleModal:I,actions:!1}),Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header",children:Object(rt.jsx)(Ra,{limitChange:function(e){return function(e){var t=e.target.value;k(Object(x.a)(Object(x.a)({},E),{},{limit:t}))}(e)},limit:E.limit,searchChange:function(e){return function(e){var t=e.target.value;(t&&t.length>=3||0===t.length)&&k(Object(x.a)(Object(x.a)({},E),{},{q:t}))}(e)}})}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsx)(Ca,{tableClass:"table-hover",columns:La,children:B})}),Object(rt.jsx)(wa,{current_page:D,pageFrom:P,pageTo:U,last_page:q,changePage:function(e){k(Object(x.a)(Object(x.a)({},E),{},{page:e}))}})]})]})]})},Va={loading:!1,data:{product_name:"",color:"",price:"",actual_price:"",sale_price:"",purchased_date:"",image:"",sold_date:"",image_preview:"",qty:"",slug:"",status:!0},error:{}},Ha=function(e){var t=e.match.params.id,a=[{name:"Inventory",link:"/inventories"},{name:t?"Edit":"New"}],c=Object(i.d)((function(e){return{inventory:e.inventory.inventory}}),i.b),s=c.inventory,r=Object(n.useState)(Va),l=Object(g.a)(r,2),o=l[0],d=l[1],u=Object(i.c)();Object(n.useEffect)((function(){t&&j(),t||d(Va)}),[]);var j=function(){u(function(e){var t="/product/".concat(e);return function(e){return e(ra(Tt,!0)),aa.get(t).then((function(t){return e(ca(It,t)),t}),(function(t){return e(sa(Ft,t)),t}))}}(t))};Object(n.useEffect)((function(){if(s&&s.data&&parseInt(s.data.id)===parseInt(t)){var e=Object(x.a)({},s.data);e.purchased_date&&(e.purchased_date=p(e.purchased_date)),null!==e.sold_date&&(e.sold_date=p(e.sold_date)),e.image&&(e.image_preview=e.image),d(Object(x.a)(Object(x.a)({},o),{},{data:e,loading:!1}))}}),[t,s]);var b=function(e){var t=e.target,a=Object(x.a)({},o.data),n=Object(x.a)({},o.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),d(Object(x.a)(Object(x.a)({},o),{},{data:a,error:n}))},h={product_name:["required"],color:["required"],price:["required","numeric"],actual_price:["required"],qty:["required"]},m=o.data,O=o.error,f=null;return m.image_preview&&(f=Object(rt.jsxs)("div",{className:"img-container",children:[Object(rt.jsx)("img",{src:m.image_preview,className:"img-preview",alt:"img"}),Object(rt.jsx)("i",{className:"fa fa-times-circle text-danger img-icon",onClick:function(){var e=Object(x.a)({},o.data);e.image="",e.image_preview="",d(Object(x.a)(Object(x.a)({},o),{},{data:e}))}})]})),Object(rt.jsx)(fa,{links:a,options:["save","reset","back"],loading:o.loading,onSubmit:function(a){var n=Object(x.a)({},o.data);a.preventDefault();var c=ft(n,h,O,!1);if(c.localvalidationerror)d(Object(x.a)(Object(x.a)({},o),{},{error:c.error}));else if(t){var s=new FormData;n.image&&(s.append("id",t),delete Va.data.image_preview,Object.keys(Va.data).map((function(e){n[e]&&s.append(e,n[e])})),s.append("_method","patch")),u(n.image?ga(s):function(e,t){var a="/product/".concat(e);return function(e){return e(ra(At,!0)),aa.patch(a,t).then((function(t){return e(ca(Dt,t)),t}),(function(t){return e(sa(Pt,t)),t}))}}(t,n)).then((function(e){422===e.status?d(Object(x.a)(Object(x.a)({},o),{},{error:e.data.message})):200===e.status&&u(Fe(e.data.message))}))}else{var r=new FormData;Object.keys(n).map((function(e){n[e]&&r.append(e,n[e])})),u(ga(r)).then((function(t){422===t.status?d(Object(x.a)(Object(x.a)({},o),{},{error:t.data.message})):200===t.status&&(u(Fe(t.data.message)),e.history.push("/inventories"))}))}},onBack:function(){e.history.goBack()},onReset:function(){t?j():d(Va)},children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsxs)("div",{className:"col-xs-12 col-sm-6",children:[Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Product Info"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Product Name *",name:"product_name",value:m.product_name,onChange:b,error:O.product_name})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Color *",name:"color",value:m.color,onChange:b,error:O.color})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Price *",name:"price",value:m.price,onChange:b,error:O.price,type:"number"})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Quantity",name:"qty",value:m.qty,onChange:b,error:O.qty,type:"number"})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Actual Price *",name:"actual_price",value:m.actual_price,type:"number",onChange:b,error:O.actual_price})}),t&&Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Sale Price",name:"sale_price",value:m.sale_price,type:"number",onChange:b,error:O.sale_price})}),t&&Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Sale Date",name:"sold_date",value:m.sold_date,type:"date",onChange:b,error:O.sold_date})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsx)(ja,{label:"Purchased Date *",name:"purchased_date",type:"date",value:m.purchased_date,onChange:b,error:O.purchased_date})})]})})]}),t&&Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Product QR"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)(Ua,{value:t})})]})]}),Object(rt.jsxs)("div",{className:"col-xs-12 col-sm-6",children:[Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Status"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)(pa,{name:"status",onChange:b,checked:m.status,label:"Active"})})]}),Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Product Image"}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)(ba,{type:"file",label:"Select Product Image",name:"image",onChange:function(e){return function(e){var t=e.target.name,a=Object(x.a)({},o.data),n=Object(x.a)({},o.error),c=e.target.files[0];c&&(a[t]=c,a.image_preview=URL.createObjectURL(c)),""!==n[t]&&(n[t]=""),d(Object(x.a)(Object(x.a)({},o),{},{data:a,error:n}))}(e)},error:O.image}),f]})]})]})]})})},Ga=[{name:"Customers",link:"/customers"}],Ka=["id","Customer Name","email","contact","location",{name:"status",alignment:"center"},"created_date",{name:"actions",alignment:"center"}],za=function(e){var t=e.location.pathname,a=e.location.search,c=Object(i.d)((function(e){return{customers:e.customers.customers}}),i.b),s=c.customers,r=Object(i.c)(),l=Object(n.useState)(!0),o=Object(g.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)({data:{}}),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(n.useState)({filter:[],limit:"10",page:1,q:"",sort_by:null,sort_field:null,filterKey:"",filterValue:null,showFilterOptions:!1}),y=Object(g.a)(O,2),N=y[0],_=y[1];Object(n.useEffect)((function(){s&&m(Object(x.a)(Object(x.a)({},h),{},{data:s}))}),[s]),Object(n.useEffect)((function(){var e=Object(va.a)(N.filter),t=Object(x.a)({},N),n=t.limit,c=t.page,s=t.q,r=t.sort_by,i=t.sort_field,l=v(a);Object.keys(l).map((function(t){if("page"===t)c=l[t];else if("limit"===t)n=l[t];else if("q"===t)s=l[t];else if("sort_by"===t)r=l[t];else if("sort_field"===t)i=l[t];else{var a=e.findIndex((function(e){return e.key===t}));a>-1&&(e[a].value=l[t])}})),_(Object(x.a)(Object(x.a)({},N),{},{limit:n,page:c,q:s,sort_by:r,sort_field:i,filter:e}))}),[]),Object(n.useEffect)((function(){S()}),[N]);var S=function(){var a,n=N.limit,c=N.page,s=N.q,i=N.sort_by,l=N.sort_field,o=N.filterKey,d=N.filterValue,j=N.filter;r((a={limit:n,page:c,q:s,sort_by:i,sort_field:l,filterKey:o,filterValue:d,filter:j},a=a||{},function(e){e(ra(F));var t={limit:a.limit||10,page:a.page||1,q:a.q||"",sort_field:a.sort_field||"id",sort_by:a.sort_by||"desc"};a.filter&&Object.keys(a.filter).forEach((function(e){var n=a.filter[e];t["filter[".concat(e,"]")]=n}));var n={params:t};return aa.get("/customers",n).then((function(t){return e(ca(A,t)),t}),(function(t){var a;return e(sa(D,t)),(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)&&e(Ae(t.data.message)),t}))})).then((function(e){return u(!1)})),function(){var a=Object(va.a)(N.filter),n=Object(x.a)({},N),c=n.limit,s=n.page,r=n.q,i=n.sort_by,l=n.sort_field;a.push({key:"limit",value:c}),a.push({key:"page",value:s}),a.push({key:"q",value:r}),a.push({key:"sort_by",value:i}),a.push({key:"sort_field",value:l});var o=f(a);e.history.push({pathname:t,search:o})}()},C=h.data,E=C.data,k=C.current_page,w=C.from,R=C.last_page,T=(C.per_page,C.to),I=(C.total,d?Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:Object(rt.jsx)(ua,{})})}):E&&E.length>0?E.map((function(e,t){var a=e.id,n=e.customer_name,c=e.email,s=e.contact,r=e.location,i=e.status,l=e.created_at;return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:a}),Object(rt.jsx)("td",{children:n||"-"}),Object(rt.jsx)("td",{children:c||"-"}),Object(rt.jsx)("td",{children:s||"-"}),Object(rt.jsx)("td",{children:r||"-"}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(ka,{status:i})}),Object(rt.jsx)("td",{children:l&&p(l)}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(Ea,{type:"customers",id:a,noView:!0})})]},t)})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records Found"})}));return Object(rt.jsx)(fa,{links:Ga,title:"Customers",options:["create"],onCreate:function(){e.history.push("/customers/new")},children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header",children:Object(rt.jsx)(Ra,{limitChange:function(e){return function(e){var t=e.target.value;_(Object(x.a)(Object(x.a)({},N),{},{limit:t}))}(e)},limit:N.limit,searchChange:function(e){return function(e){var t=e.target.value;(t&&t.length>=3||0===t.length)&&_(Object(x.a)(Object(x.a)({},N),{},{q:t}))}(e)}})}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsx)(Ca,{tableClass:"table-hover",columns:Ka,children:I})}),Object(rt.jsx)(wa,{current_page:k,pageFrom:w,pageTo:T,last_page:R,changePage:function(e){_(Object(x.a)(Object(x.a)({},N),{},{page:e}))}})]})]})})},Wa={data:{customer_name:"",email:"",contact:"",location:"",status:!0},error:{customer_name:"",email:"",contact:"",location:""}},Ya=function(e){var t=e.match.params.id,a=[{name:"Customers",link:"/customers"},{name:t?"Edit":"New"}],c=Object(i.d)((function(e){return{customer:e.customers.customer}}),i.b),s=c.customer,r=Object(n.useState)(Wa),l=Object(g.a)(r,2),o=l[0],d=l[1],u=Object(i.c)();Object(n.useEffect)((function(){t&&j()}),[]);var j=function(){u(function(e){var t="/customer/".concat(e);return function(e){return e(ra(P,!0)),aa.get(t).then((function(t){return e(ca(q,t)),t}),(function(t){return e(sa(U,t)),t}))}}(t))};Object(n.useEffect)((function(){t&&s&&s.data&&d(Object(x.a)(Object(x.a)({},o),{},{data:s.data}))}),[s]);var b=function(e){var t=e.target,a=Object(x.a)({},o.data),n=Object(x.a)({},o.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),d(Object(x.a)(Object(x.a)({},o),{},{data:a,error:n}))},h={customer_name:["required"],contact:["required"],email:["required","email"]};console.log("state",o);var m=o.data,p=o.error;return Object(rt.jsx)(fa,{links:a,options:["save","reset","back"],onSubmit:function(a){var n=Object(x.a)({},o.data);a.preventDefault();var c,s=ft(n,h,p,!1);s.localvalidationerror?d(Object(x.a)(Object(x.a)({},o),{},{error:s.error})):t?u(function(e,t){var a="/customer/".concat(e);return function(e){return e(ra(B,!0)),aa.patch(a,t).then((function(t){return e(ca(L,t)),t}),(function(t){return e(sa(M,t)),t}))}}(t,n)).then((function(e){422===e.status?d(Object(x.a)(Object(x.a)({},o),{},{error:e.data})):200===e.status&&u(Fe(e.data.message))})):u((c=n,function(e){return e(ra(V,!0)),aa.post("/customers",c).then((function(t){return e(ca(H,t)),t}),(function(t){return e(sa(G,t)),t}))})).then((function(t){422===t.status?d(Object(x.a)(Object(x.a)({},o),{},{error:t.data.message})):200===t.status&&(u(Fe(t.data.message)),e.history.push("/customers"))}))},onReset:function(){console.log("form reset"),t?j():d(Wa)},onBack:function(){e.history.goBack()},children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Customer Details"}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)(ja,{label:"Customer Name *",name:"customer_name",value:m.customer_name,onChange:b,error:p.customer_name}),Object(rt.jsx)(ja,{label:"Contact *",name:"contact",value:m.contact,onChange:b,error:p.contact}),Object(rt.jsx)(ja,{label:"Email *",name:"email",value:m.email,onChange:b,error:p.email}),Object(rt.jsx)(ja,{label:"Location",name:"location",value:m.location,onChange:b,error:p.location})]})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Status"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)(pa,{name:"status",checked:m.status,onChange:b,error:p.status})})]})})]})})},Qa=[{name:"Vendors",link:"/vendors"}],Xa=["id","Vendor Name","purchase_amount","purchase_date",{name:"status",alignment:"center"},"created_date",{name:"actions",alignment:"center"}],Ja=function(e){var t=e.location.pathname,a=e.location.search,c=Object(i.d)((function(e){return{vendors:e.vendors.vendors}}),i.b),s=c.vendors,r=Object(i.c)(),l=Object(n.useState)(!0),o=Object(g.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)({data:{}}),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(n.useState)({filter:[],limit:"10",page:1,q:"",sort_by:null,sort_field:null,filterKey:"",filterValue:null,showFilterOptions:!1}),y=Object(g.a)(O,2),N=y[0],_=y[1];Object(n.useEffect)((function(){s&&m(Object(x.a)(Object(x.a)({},h),{},{data:s}))}),[s]),Object(n.useEffect)((function(){var e=Object(va.a)(N.filter),t=Object(x.a)({},N),n=t.limit,c=t.page,s=t.q,r=t.sort_by,i=t.sort_field,l=v(a);Object.keys(l).map((function(t){if("page"===t)c=l[t];else if("limit"===t)n=l[t];else if("q"===t)s=l[t];else if("sort_by"===t)r=l[t];else if("sort_field"===t)i=l[t];else{var a=e.findIndex((function(e){return e.key===t}));a>-1&&(e[a].value=l[t])}})),_(Object(x.a)(Object(x.a)({},N),{},{limit:n,page:c,q:s,sort_by:r,sort_field:i,filter:e}))}),[]),Object(n.useEffect)((function(){S()}),[N]);var S=function(){var a,n=N.limit,c=N.page,s=N.q,i=N.sort_by,l=N.sort_field,o=N.filterKey,d=N.filterValue,j=N.filter;r((a={limit:n,page:c,q:s,sort_by:i,sort_field:l,filterKey:o,filterValue:d,filter:j},a=a||{},function(e){e(ra(K,!0));var t={limit:a.limit||10,page:a.page||1,q:a.q||"",sort_field:a.sort_field||"id",sort_by:a.sort_by||"desc"};a.filter&&Object.keys(a.filter).forEach((function(e){var n=a.filter[e];t["filter[".concat(e,"]")]=n}));var n={params:t};return aa.get("/vendors",n).then((function(t){return e(ca(z,t)),t}),(function(t){return e(sa(W,t)),t}))})).then((function(e){return u(!1)})),function(){var a=Object(va.a)(N.filter),n=Object(x.a)({},N),c=n.limit,s=n.page,r=n.q,i=n.sort_by,l=n.sort_field;a.push({key:"limit",value:c}),a.push({key:"page",value:s}),a.push({key:"q",value:r}),a.push({key:"sort_by",value:i}),a.push({key:"sort_field",value:l});var o=f(a);e.history.push({pathname:t,search:o})}()},C=h.data,E=C.data,k=C.current_page,w=C.from,R=C.last_page,T=(C.per_page,C.to),I=(C.total,d?Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:Object(rt.jsx)(ua,{})})}):E&&E.length>0?E.map((function(e,t){var a=e.id,n=e.vendor_name,c=e.purchase_amount,s=e.purchase_date,r=e.status,i=e.created_at;return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:a}),Object(rt.jsx)("td",{children:n||"-"}),Object(rt.jsx)("td",{children:c||"-"}),Object(rt.jsx)("td",{children:s?p(s):"-"}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(ka,{status:r})}),Object(rt.jsx)("td",{children:i&&p(i)}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(Ea,{type:"vendors",id:a,noView:!0})})]},t)})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records Found"})}));return Object(rt.jsx)(fa,{links:Qa,title:"Vendors",options:["create"],onCreate:function(){e.history.push("/vendors/new")},children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header",children:Object(rt.jsx)(Ra,{limitChange:function(e){return function(e){var t=e.target.value;_(Object(x.a)(Object(x.a)({},N),{},{limit:t}))}(e)},limit:N.limit,searchChange:function(e){return function(e){var t=e.target.value;(t&&t.length>=3||0===t.length)&&_(Object(x.a)(Object(x.a)({},N),{},{q:t}))}(e)}})}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsx)(Ca,{tableClass:"table-hover",columns:Xa,children:I})}),Object(rt.jsx)(wa,{current_page:k,pageFrom:w,pageTo:T,last_page:R,changePage:function(e){_(Object(x.a)(Object(x.a)({},N),{},{page:e}))}})]})]})})},Za={data:{vendor_name:"",total:"",purchase_amount:"",purchase_date:"",status:!0},error:{endor_name:"",total:"",purchase_amount:"",purchase_date:""}},$a=function(e){var t=e.match.params.id,a=[{name:"Vendors",link:"/vendors"},{name:t?"Edit":"New"}],c=Object(i.d)((function(e){return{vendor:e.vendors.vendor}}),i.b),s=c.vendor,r=Object(n.useState)(Za),l=Object(g.a)(r,2),o=l[0],d=l[1],u=Object(i.c)();Object(n.useEffect)((function(){t&&j()}),[]);var j=function(){u(function(e){var t="/vendor/".concat(e);return function(e){return e(ra(Y,!0)),aa.get(t).then((function(t){return e(ca(Q,t)),t}),(function(t){return e(sa(X,t)),t}))}}(t))};Object(n.useEffect)((function(){t&&s&&s.data&&d(Object(x.a)(Object(x.a)({},o),{},{data:s.data}))}),[s]);var b=function(e){var t=e.target,a=Object(x.a)({},o.data),n=Object(x.a)({},o.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),d(Object(x.a)(Object(x.a)({},o),{},{data:a,error:n}))},h={vendor_name:["required"]},m=o.data,p=o.error;return Object(rt.jsx)(fa,{links:a,options:["save","reset","back"],onSubmit:function(a){var n=Object(x.a)({},o.data);a.preventDefault();var c,s=ft(n,h,p,!1);s.localvalidationerror?d(Object(x.a)(Object(x.a)({},o),{},{error:s.error})):t?u(function(e,t){var a="/vendor/".concat(e);return function(e){return e(ra(J,!0)),aa.patch(a,t).then((function(t){return e(ca(Z,t)),t}),(function(t){return e(sa($,t)),t}))}}(t,n)).then((function(e){422===e.status?d(Object(x.a)(Object(x.a)({},o),{},{error:e.data})):200===e.status&&u(Fe(e.data.message))})):u((c=n,function(e){return e(ra(ee,!0)),aa.post("/vendors",c).then((function(t){return e(ca(te,t)),t}),(function(t){return e(sa(ae,t)),t}))})).then((function(t){422===t.status?d(Object(x.a)(Object(x.a)({},o),{},{error:t.data.message})):200===t.status&&(u(Fe(t.data.message)),e.history.push("/vendors"))}))},onReset:function(){t?j():d(Za)},onBack:function(){e.history.goBack()},children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Vendor Details"}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)(ja,{label:"Vendor Name *",name:"vendor_name",value:m.vendor_name,onChange:b,error:p.vendor_name}),Object(rt.jsx)(ja,{label:"Purchase Amount",name:"purchase_amount",value:m.purchase_amount,onChange:b,error:p.purchase_amount}),Object(rt.jsx)(ja,{label:"Purchase Date",name:"purchase_date",type:"date",value:m.purchase_date,onChange:b,error:p.purchase_date}),Object(rt.jsx)(ja,{label:"Total",name:"total",value:m.total,onChange:b,error:p.total})]})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Status"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)(pa,{name:"status",checked:m.status,onChange:b,error:p.status})})]})})]})})},en=function(e){var t,a,c,s=null===(t=e.location)||void 0===t||null===(a=t.search)||void 0===a||null===(c=a.split("date")[1])||void 0===c?void 0:c.replace("=",""),r=Object(i.d)((function(e){return{sales:e.dashboard.sales}})),l=r.sales,o=Object(i.c)(),d=s||(new Date).toISOString().split("T")[0];console.log("d",s),console.log("props",e);var u=Object(n.useState)({data:{},total_amount:"",total_qty:""}),j=Object(g.a)(u,2),b=j[0],h=j[1];Object(n.useEffect)((function(){e.history.push({pathname:e.location.pathname,search:e.location.search})}),[]),Object(n.useEffect)((function(){o(function(e){var t="/sales?date=".concat(e);return function(e){return e(ra(se,!0)),aa.get(t).then((function(t){e(ca(ne,t))}),(function(t){e(sa(ce,t))}))}}(d))}),[]),Object(n.useEffect)((function(){l&&h(l)}),[l]);var m=b.data,p=b.total_amount,O=b.total_qty,f=b.monthly_total;return Object(rt.jsx)(fa,{children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:Object(rt.jsxs)("div",{className:"card ",style:{borderRadius:"8px 50px 8px 8px"},children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Total Sale Today"}),Object(rt.jsxs)("div",{className:"card-body align-items-center",children:[Object(rt.jsx)("span",{style:{fontSize:30},children:"Rs: "}),Object(rt.jsx)("span",{className:"float-right",style:{fontSize:"30px",fontWeight:900},children:p||0})]})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-3",children:Object(rt.jsxs)("div",{className:"card ",style:{borderRadius:"8px 50px 8px 8px"},children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Total Quantity Sold"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)("div",{className:"text-center",style:{fontSize:"30px",fontWeight:900},children:O||0})})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-5",children:Object(rt.jsxs)("div",{className:"card ",style:{borderRadius:"8px 50px 8px 8px"},children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Sold Items"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsx)(Ca,{tableClass:"table-hover w-100",columns:["name","qty",{name:"amount",alignment:"right"}],children:m&&m.length>0?m.map((function(e){return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:e.product_name}),Object(rt.jsx)("td",{children:e.qty}),Object(rt.jsx)("td",{className:"text-right",children:e.sale_price&&e.qty?e.sale_price*e.qty:0})]})})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records"})})})})})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:Object(rt.jsxs)("div",{className:"card ",style:{borderRadius:"8px 50px 8px 8px"},children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Monthlty Sales"}),Object(rt.jsxs)("div",{className:"card-body align-items-center",children:[Object(rt.jsx)("span",{style:{fontSize:30},children:"Rs: "}),Object(rt.jsx)("span",{className:"float-right",style:{fontSize:"30px",fontWeight:900},children:f||0})]})]})})]})})},tn=["id","product_name",{name:"cost price",alignment:"right"},{name:"qty",alignment:"right"},{name:"sale_price",alignment:"right"},{name:"total sales",alignment:"right"},{name:"sold_date",alignment:"right"},{name:"profit/loss",alignment:"right"},{name:"actions",alignment:"center"}],an=function(e){var t=e.location.pathname,a=e.location.search,c=Object(i.d)((function(e){return{report:e.dashboard.salesReport}}),i.b),s=c.report,r=Object(i.c)(),l=Object(n.useState)({data:{},showFilterOptions:!1}),o=Object(g.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(!0),b=Object(g.a)(j,2),h=b[0],m=b[1],p=new Date,y=new Date(p.getTime()-2592e6).toISOString().split("T")[0],N=p.toISOString().split("T")[0],_=Object(n.useState)({filter:[{key:"start_date",value:y,type:"date",name:"Start Date"},{key:"end_date",type:"date",value:N,name:"End Date"}],limit:"10",page:1,q:"",sort_by:null,sort_field:null,filterKey:"",filterValue:null,showFilterOptions:!1}),S=Object(g.a)(_,2),C=S[0],E=S[1];Object(n.useEffect)((function(){s&&u(Object(x.a)(Object(x.a)({},d),{},{data:s}))}),[s]),Object(n.useEffect)((function(){var e=Object(va.a)(C.filter),t=Object(x.a)({},C),n=t.limit,c=t.page,s=t.q,r=t.sort_by,i=t.sort_field,l=v(a);Object.keys(l).map((function(t){if("page"===t)c=l[t];else if("limit"===t)n=l[t];else if("q"===t)s=l[t];else if("sort_by"===t)r=l[t];else if("sort_field"===t)i=l[t];else{var a=e.findIndex((function(e){return e.key===t}));a>-1&&(e[a].value=l[t])}})),E(Object(x.a)(Object(x.a)({},C),{},{limit:n,page:c,q:s,sort_by:r,sort_field:i,filter:e}))}),[]);Object(n.useEffect)((function(){k()}),[C]);for(var k=function(){var a,n=C.limit,c=C.page,s=C.q,i=C.sort_by,l=C.sort_field,o=C.filterKey,d=C.filterValue,u=C.filter;r((a={limit:n,page:c,q:s,sort_by:i,sort_field:l,filterKey:o,filterValue:d,filter:u},function(e){e(ra(le,!0));var t={limit:a.limit||10,page:a.page||1,q:a.q||"",sort_field:a.sort_field||"id",sort_by:a.sort_by||"desc"};a.filter&&a.filter.map((function(e){e.value&&(t["[".concat(e.key,"]")]=e.value)}));var n={params:t};return aa.get("/sales-report",n).then((function(t){return e(ca(re,t)),t}),(function(t){return e(sa(ie,t)),400===(null===t||void 0===t?void 0:t.status)&&e(Ae(t.data&&t.data.message?t.data.message:"Something Went Wrong")),t}))})).then((function(e){return m(!1)})),function(){var a=Object(va.a)(C.filter),n=Object(x.a)({},C),c=n.limit,s=n.page,r=n.q,i=n.sort_by,l=n.sort_field;a.push({key:"limit",value:c}),a.push({key:"page",value:s}),a.push({key:"q",value:r}),a.push({key:"sort_by",value:i}),a.push({key:"sort_field",value:l});var o=f(a);e.history.push({pathname:t,search:o})}()},w=function(){u(Object(x.a)(Object(x.a)({},d),{},{showFilterOptions:!d.showFilterOptions}))},R=d.data,T=R.data,I=R.current_page,F=R.from,A=R.last_page,D=R.to,P=C.limit,q=C.filter,U=h?Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:Object(rt.jsx)(ua,{})})}):T&&T.length>0?T.map((function(e,t){var a=e.id,n=e.actual_price,c=e.sale_price,s=e.product_name,r=e.sold_date,i=e.qty;return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:a}),Object(rt.jsx)("td",{children:s||"-"}),Object(rt.jsx)("td",{className:"text-right",children:n||"-"}),Object(rt.jsx)("td",{className:"text-right",children:i||"-"}),Object(rt.jsx)("td",{className:"text-right",children:c||"-"}),Object(rt.jsx)("td",{className:"text-right",children:c&&i?c*i:0}),Object(rt.jsx)("td",{className:"text-right",children:r?O(r):"-"}),Object(rt.jsx)("td",{className:"text-right",children:c&&i?(.35*c*i).toFixed(2):0}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(Ea,{type:"inventory",noEdit:!0,noDelete:!0,id:a})})]},t)})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records"})}),B=0,L=0,M=0;M<(null===T||void 0===T?void 0:T.length);M++)T[M]&&T[M].sale_price&&(B+=.35*T[M].sale_price*T[M].qty),L+=T[M].sale_price*T[M].qty;return Object(rt.jsx)(fa,{children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header",children:Object(rt.jsx)(Ia,{filter:q,limit:P,limitChange:function(e){var t=e.target.value;E(Object(x.a)(Object(x.a)({},C),{},{limit:t}))},showFilterOptions:d.showFilterOptions,onToggleShowFilter:w,deleteActiveFilter:function(e){var t=Object(va.a)(C.filter),a=t.findIndex((function(t){return t.key===e}));a>-1&&(t[a].value="",E(Object(x.a)(Object(x.a)({},C),{},{filter:t,page:1})))},onApplyFilters:function(e,t){var a=Object(va.a)(C.filter);e.map((function(e){if(e.value){var t=a.findIndex((function(t){return t.key===e.key}));t>-1&&(a[t].value=e.value)}})),E(Object(x.a)(Object(x.a)({},C),{},{filter:a,page:1})),w()},clearActiveFilter:function(){var e=Object(va.a)(C.filter);e.map((function(e){e.value=""})),E(Object(x.a)(Object(x.a)({},C),{},{filter:e,page:1}),(function(){}))}})}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsxs)(Ca,{tableClass:"table-hover",columns:tn,children:[U,Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{}),Object(rt.jsx)("td",{}),Object(rt.jsx)("td",{}),Object(rt.jsx)("td",{}),Object(rt.jsx)("td",{}),Object(rt.jsxs)("td",{className:"text-right",children:["Total: Rs. ",L.toFixed(2)]}),Object(rt.jsx)("td",{}),Object(rt.jsxs)("td",{className:"text-right",children:["Total: Rs. ",B.toFixed(2)]}),Object(rt.jsx)("td",{})]})]})}),Object(rt.jsx)(wa,{current_page:I,pageFrom:F,pageTo:D,last_page:A,changePage:function(e){E(Object(x.a)(Object(x.a)({},C),{},{page:e}))}})]})]})})},nn=[{name:"Customers",link:"/customers"}],cn=["id","name",{name:"status",alignment:"center"},{name:"created_date",alignment:"right"},{name:"actions",alignment:"center",width:100}],sn=function(e){var t=e.location.pathname,a=e.location.search,c=Object(i.d)((function(e){return{categories:e.categories.categories}}),i.b),s=c.categories,r=Object(i.c)(),l=Object(n.useState)(!0),o=Object(g.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)({data:{}}),b=Object(g.a)(j,2),h=b[0],m=b[1],O=Object(n.useState)({filter:[],limit:"10",page:1,q:"",sort_by:null,sort_field:null,filterKey:"",filterValue:null,showFilterOptions:!1}),y=Object(g.a)(O,2),N=y[0],_=y[1];Object(n.useEffect)((function(){s&&m(Object(x.a)(Object(x.a)({},h),{},{data:s}))}),[s]),Object(n.useEffect)((function(){var e=Object(va.a)(N.filter),t=Object(x.a)({},N),n=t.limit,c=t.page,s=t.q,r=t.sort_by,i=t.sort_field,l=v(a);Object.keys(l).map((function(t){if("page"===t)c=l[t];else if("limit"===t)n=l[t];else if("q"===t)s=l[t];else if("sort_by"===t)r=l[t];else if("sort_field"===t)i=l[t];else{var a=e.findIndex((function(e){return e.key===t}));a>-1&&(e[a].value=l[t])}})),_(Object(x.a)(Object(x.a)({},N),{},{limit:n,page:c,q:s,sort_by:r,sort_field:i,filter:e}))}),[]),Object(n.useEffect)((function(){S()}),[N]);var S=function(){var a,n=N.limit,c=N.page,s=N.q,i=N.sort_by,l=N.sort_field,o=N.filterKey,d=N.filterValue,j=N.filter;r((a={limit:n,page:c,q:s,sort_by:i,sort_field:l,filterKey:o,filterValue:d,filter:j},a=a||{},function(e){e(ra(oe,!0));var t={limit:a.limit||10,page:a.page||1,q:a.q||"",sort_field:a.sort_field||"id",sort_by:a.sort_by||"desc"};a.filter&&Object.keys(a.filter).forEach((function(e){var n=a.filter[e];t["filter[".concat(e,"]")]=n}));var n={params:t};return aa.get("/categories",n).then((function(t){return e(ca(de,t)),t}),(function(t){var a;return e(sa(ue,t)),(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)&&e(Ae(t.data.message)),t}))})).then((function(e){return u(!1)})),function(){var a=Object(va.a)(N.filter),n=Object(x.a)({},N),c=n.limit,s=n.page,r=n.q,i=n.sort_by,l=n.sort_field;a.push({key:"limit",value:c}),a.push({key:"page",value:s}),a.push({key:"q",value:r}),a.push({key:"sort_by",value:i}),a.push({key:"sort_field",value:l});var o=f(a);e.history.push({pathname:t,search:o})}()},C=h.data,E=C.data,k=C.current_page,w=C.from,R=C.last_page,T=(C.per_page,C.to),I=(C.total,d?Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:Object(rt.jsx)(ua,{})})}):E&&E.length>0?E.map((function(e,t){var a=e.id,n=e.name,c=e.status,s=e.created_at;return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:a}),Object(rt.jsx)("td",{children:n||"-"}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(ka,{status:c})}),Object(rt.jsx)("td",{className:"text-right",children:s&&p(s)}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(Ea,{type:"category",id:a,noView:!0})})]},t)})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records Found"})}));return Object(rt.jsx)(fa,{links:nn,title:"Categories",options:["create"],onCreate:function(){e.history.push("/category/new")},children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header",children:Object(rt.jsx)(Ra,{limitChange:function(e){return function(e){var t=e.target.value;_(Object(x.a)(Object(x.a)({},N),{},{limit:t}))}(e)},limit:N.limit,searchChange:function(e){return function(e){var t=e.target.value;(t&&t.length>=3||0===t.length)&&_(Object(x.a)(Object(x.a)({},N),{},{q:t}))}(e)}})}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsx)(Ca,{tableClass:"table-hover",columns:cn,children:I})}),Object(rt.jsx)(wa,{current_page:k,pageFrom:w,pageTo:T,last_page:R,changePage:function(e){_(Object(x.a)(Object(x.a)({},N),{},{page:e}))}})]})]})})},rn={data:{name:"",description:"",status:!0},error:{name:"",description:"",status:""}},ln=function(e){var t=e.match.params.id,a=[{name:"Categories",link:"/categories"},{name:t?"Edit":"New"}],c=Object(i.d)((function(e){return{category:e.categories.category}}),i.b),s=c.category,r=Object(n.useState)(rn),l=Object(g.a)(r,2),o=l[0],d=l[1],u=Object(i.c)();Object(n.useEffect)((function(){t&&j()}),[]);var j=function(){u(function(e){var t="/category/".concat(e);return function(e){return e(ra(je,!0)),aa.get(t).then((function(t){return e(ca(be,t)),t}),(function(t){return e(sa(he,t)),t}))}}(t))};Object(n.useEffect)((function(){t&&s&&s.data&&d(Object(x.a)(Object(x.a)({},o),{},{data:s.data}))}),[s]);var b=function(e){var t=e.target,a=Object(x.a)({},o.data),n=Object(x.a)({},o.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),d(Object(x.a)(Object(x.a)({},o),{},{data:a,error:n}))},h={name:["required"]},m=o.data,p=o.error;return Object(rt.jsx)(fa,{links:a,options:["save","reset","back"],onSubmit:function(a){var n=Object(x.a)({},o.data);a.preventDefault();var c,s=ft(n,h,p,!1);s.localvalidationerror?d(Object(x.a)(Object(x.a)({},o),{},{error:s.error})):t?u(function(e,t){var a="/category/".concat(e);return function(e){return e(ra(me,!0)),aa.patch(a,t).then((function(t){return e(ca(pe,t)),t}),(function(t){return e(sa(Oe,t)),t}))}}(t,n)).then((function(e){422===(null===e||void 0===e?void 0:e.status)?d(Object(x.a)(Object(x.a)({},o),{},{error:e.data})):200===(null===e||void 0===e?void 0:e.status)&&u(Fe(e.data.message))})):u((c=n,function(e){return e(ra(fe,!0)),aa.post("/categories",c).then((function(t){return e(ca(ve,t)),t}),(function(t){return e(sa(xe,t)),t}))})).then((function(t){422===(null===t||void 0===t?void 0:t.status)?d(Object(x.a)(Object(x.a)({},o),{},{error:t.data.message})):200===(null===t||void 0===t?void 0:t.status)&&(u(Fe(t.data.message)),e.history.push("/categories"))}))},onReset:function(){t?j():d(rn)},onBack:function(){e.history.goBack()},children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-12 col-sm-8",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Category Details"}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)(ja,{label:"Category Name *",name:"name",value:m.name,onChange:b,error:p.name}),Object(rt.jsx)(ja,{label:"Description *",name:"description",value:m.description,onChange:b,error:p.description})]})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-4",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Status"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)(pa,{name:"status",checked:m.status,onChange:b,error:p.status})})]})})]})})},on=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(){return Object(Pe.a)(this,a),t.apply(this,arguments)}return Object(qe.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleToggleModel,a=e.onSubmit,n=e.title,c=e.message,s=e.tree_path,r=e.tree_path_extra,i=e.btnTitle;return Object(rt.jsx)("div",{className:"modal",style:{display:"block",height:"auto"},children:Object(rt.jsx)("div",{className:"modal-dialog modal-sm",children:Object(rt.jsxs)("div",{className:"modal-content",children:[Object(rt.jsxs)("div",{className:"modal-header",children:[Object(rt.jsx)("button",{type:"button",onClick:function(){return t()},className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(rt.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(rt.jsx)("h4",{className:"modal-title",children:n||""}),s&&s.tree_path&&Object(rt.jsx)("p",{children:"".concat(s.tree_path," > ").concat(r.name)})]}),Object(rt.jsx)("div",{className:"modal-body",children:Object(rt.jsx)("p",{children:c||"Are you sure ?"})}),Object(rt.jsxs)("div",{className:"modal-footer",children:[Object(rt.jsx)("button",{type:"button",onClick:function(){return t()},className:"btn btn-default btn-sm pull-left","data-dismiss":"modal",children:"Cancel"}),Object(rt.jsx)("button",{onClick:function(){return a()},type:"button",className:"btn btn-success btn-sm",children:i||"Save"})]})]})})})}}]),a}(n.Component),dn=on,un=a(122),jn=a.n(un),bn=a(123),hn={mSeparator:"--",eSeparator:"__",m:function(e,t){t=t.split(" ");var a=[];return t.forEach((function(t){a.push(e+"--"+t)})),a.join(" ")},e:function(e,t){return e+this.eSeparator+t}},mn=function(e){var t=[];return e.forEach((function(e,a){if({}.hasOwnProperty.call(e,"type")&&"group"===e.type){var n=Math.random().toString(36).substr(2,9);e.items.forEach((function(a){var c=Object.assign({},a);c.groupId=n,c.groupName=e.name,t.push(c)}))}else t.push(Object.assign({},e,{index:a}))})),t};var pn=function(e){var t=[];return e.forEach((function(e,a){if({}.hasOwnProperty.call(e,"groupId")){var n=Object.assign({},e),c=function(e,t){var a=null;return e.forEach((function(e,n){({}).hasOwnProperty.call(e,"groupId")&&e.groupId===t&&(a=n)})),a}(t,n.groupId);n.index=a,null!==c&&c>-1?t[c].items.push(n):t.push({items:[n],groupId:e.groupId,type:"group",name:e.groupName})}else t.push(e)})),t},On=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(e){var n;Object(Pe.a)(this,a),(n=t.call(this,e)).handleClickOutside=function(){n.onBlur()},n.onBlur=function(){n.props.search&&!n.props.multiple&&n.search.current.blur();var e="";if(n.state.value&&n.props.search&&!n.props.multiple){var t=n.findByValue(null,n.state.value);t&&(e=t.name)}n.setState({focus:!1,highlighted:null,search:e})},n.onFocus=function(){n.setState({focus:!0,options:n.state.defaultOptions,search:""})},n.onChange=function(e){var t=e.target.value;t||(t=""),n.setState({search:t})},n.onKeyPress=function(e){!n.state.options||n.state.options.length<1||13===e.keyCode&&n.handleEnter()},n.onKeyDown=function(e){n.state.focus&&(9!==e.keyCode?(40===e.keyCode&&n.handleArrowDown(),38===e.keyCode&&n.handleArrowUp()):n.onBlur())},n.onKeyUp=function(e){27===e.keyCode&&n.handleEsc()},n.toggle=function(){n.state.focus?n.onBlur():n.onFocus()};var s=e.options,r=e.value,i=e.multiple,l=e.className,o=!r&&i?[]:r,d=mn(s),u="";if(o){var j=n.findByValue(d,o);j&&(u=j.name)}return n.state={search:u,value:o,defaultOptions:d,options:d,highlighted:null,focus:!1},n.classes={container:i?"".concat(l," ").concat(hn.m(l,"multiple")):l,search:"".concat(hn.e(l,"search")," form-control input-sm"),select:hn.e(l,"select"),options:hn.e(l,"options"),option:hn.e(l,"option"),row:hn.e(l,"row"),group:hn.e(l,"group"),groupHeader:hn.e(l,"group-header"),out:hn.e(l,"out"),label:hn.e(l,"label"),focus:i?"".concat(l," ").concat(hn.m(l,"multiple focus")):"".concat(l," ").concat(hn.m(l,"focus"))},i&&!n.props.search&&(n.classes.container+=" ".concat(hn.m(hn.e(l,"icon"),"disabled"))),n.props.search||(n.classes.focus+=" ".concat(hn.m(hn.e(l,"icon"),"disabled"))),n.classes.container+=" ".concat(hn.m(l,"select")),n.classes.focus+=" ".concat(hn.m(l,"select")),n.container=c.a.createRef(),n.selectOptions=c.a.createRef(),n.select=c.a.createRef(),n.search=c.a.createRef(),n.outInput=c.a.createRef(),n}return Object(qe.a)(a,[{key:"componentDidMount",value:function(){this.props.onMount.call(null,this.publishOption(),this.state,this.props),this.scrollToSelected(),this.search.current&&!0===this.props.autofocus&&this.search.current.focus()}},{key:"componentWillReceiveProps",value:function(e){var t={},a=this.state,n=a.defaultOptions,c=a.value;if(e.options!==n){var s=mn(e.options);t.options=s,t.defaultOptions=s}if(e.value!==c){var r=this.findByValue(n,e.value);r?(t.value=e.value,t.search=r.name):(t.value=[],t.search="")}this.setState(t)}},{key:"componentDidUpdate",value:function(e,t){this.state.focus&&this.state.focus!==t.focus&&(this.handleFocus(),this.props.onFocus.call(null,this.publishOption(),this.state,this.props)),this.state.focus||this.state.focus===t.focus||(this.handleBlur(),this.props.onBlur.call(null,this.publishOption(),this.state,this.props)),this.state.highlighted!==t.highlighted&&this.props.onHighlight.call(null,this.state.options[this.state.highlighted],this.state,this.props),this.scrollToSelected(!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keypress",this.onKeyPress),document.removeEventListener("keyup",this.onKeyUp)}},{key:"handleArrowDown",value:function(){if(!(this.state.options.length<1)){var e=null;(e=null!=this.state.highlighted?this.state.highlighted+1:0)>this.state.options.length-1&&(e=0),this.setState({highlighted:e})}}},{key:"handleArrowUp",value:function(){if(!(this.state.options.length<1)){var e=this.state.options.length-1;null!=this.state.highlighted&&(e=this.state.highlighted-1),e<0&&(e=this.state.options.length-1),this.setState({highlighted:e})}}},{key:"handleEnter",value:function(){this.chooseOption()}},{key:"handleEsc",value:function(){this.onBlur()}},{key:"publishOption",value:function(e){var t=e;return"undefined"===typeof e&&(t=this.state.value),this.props.multiple?this.publishOptionMultiple(t):this.publishOptionSingle(t)}},{key:"publishOptionSingle",value:function(e){return this.findByValue(null,e)}},{key:"publishOptionMultiple",value:function(e){var t=this;return e.map((function(e){return t.findByValue(null,e)}))}},{key:"handleFocus",value:function(){if(document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keypress",this.onKeyPress),document.addEventListener("keyup",this.onKeyUp),this.state.options.length>0&&!this.props.multiple){var e=this.select.current,t=document.documentElement.clientHeight,a=Math.max(t,window.innerHeight||0)-e.getBoundingClientRect().top-20;e.style.maxHeight="".concat(a,"px"),this.scrollToSelected(!0,"selected")}}},{key:"handleBlur",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keypress",this.onKeyPress),document.removeEventListener("keyup",this.onKeyUp)}},{key:"findByValue",value:function(e,t){var a=e;return(!e||e.length<1)&&(a=this.state.defaultOptions),a?a.filter((function(e){return e.value===t}))[0]:null}},{key:"chooseOption",value:function(e){var t,a,n,c=this;if(e)a=this.findByValue(this.state.defaultOptions,e);else{var s=this.state.highlighted;(!s||this.state.options.length-1<s)&&(s=0),a=this.state.options[s]}if(this.props.multiple){t||(t=[]);var r=t.indexOf(a.value);r>-1?t.splice(r,1):t.push(a.value),n=""}else t=a.value,n=a.name;var i=this.state.defaultOptions,l=this.props.multiple?this.state.highlighted:null;this.setState({value:t,search:n,options:i,highlighted:l,focus:this.props.multiple}),setTimeout((function(){var e=c.publishOption(t);c.props.onChange.call(null,e,c.state,c.props)}),50),this.props.search&&!this.props.multiple&&this.search.current.blur()}},{key:"removeOption",value:function(e){var t=this;if(!e)return!1;var a=this.findByValue(this.state.defaultOptions,e),n=this.state.value.slice();return!(!a||n.indexOf(a.value)<0)&&(n.splice(n.indexOf(a.value),1),this.setState({value:n,search:""}),setTimeout((function(){t.props.onChange.call(null,t.publishOption(n),t.state,t.props)}),50),!0)}},{key:"getNewOptionsList",value:function(e,t){return e&&e.length>0&&t&&t.length>0?new jn.a(e,this.props.fuse).search(t).map((function(e,t){return Object.assign({},e,{index:t})})):e}},{key:"scrollToSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hover";if((e||!this.props.multiple&&null!=this.state.highlighted&&this.select.current&&this.state.focus&&!(this.state.options.length<1))&&this.selectOptions.current){var a=this.selectOptions.current.querySelector(".".concat(hn.m(this.classes.option,t)));if(a){var n=this.search.current?this.search.current.clientHeight:0;this.select.current.scrollTop=a.offsetTop-n-this.props.height/2+a.clientHeight/2}}}},{key:"renderOption",value:function(e,t,a){var n=this,c=e.value,s=this.classes.option;return s+=" ".concat(this.classes.row),this.state.highlighted===e.index&&(s+=" ".concat(hn.m(this.classes.option,"hover"))),(a&&t.indexOf(c)>=0||c===t)&&(s+=" ".concat(hn.m(this.classes.option,"selected"))),this.props.multiple?this.state.value.indexOf(e.value)<0?Object(rt.jsx)("li",{role:"menuitem",className:s,onClick:function(){return n.chooseOption(e.value)},"data-value":e.value,children:this.props.renderOption(e,this.state,this.props)},"".concat(e.value,"-option")):Object(rt.jsx)("li",{role:"menuitem",className:s,onClick:function(){return n.removeOption(e.value)},"data-value":e.value,children:this.props.renderOption(e,this.state,this.props)},"".concat(e.value,"-option")):e.value===this.state.value?Object(rt.jsx)("li",{role:"menuitem",className:s,"data-value":e.value,children:this.props.renderOption(e)},"".concat(e.value,"-option")):Object(rt.jsx)("li",{role:"menuitem",className:s,onClick:function(){return n.chooseOption(e.value)},"data-value":e.value,children:this.props.renderOption(e,this.state,this.props)},"".concat(e.value,"-option"))}},{key:"renderOptions",value:function(){var e=this,t=null,a={},n=[],c=this.props.multiple,s=this.state,r=s.value,i=s.options;if(i&&i.length>0){var l=pn(i);l&&l.length&&(l.forEach((function(t){if({}.hasOwnProperty.call(t,"type")&&"group"===t.type){var a=[];t.items.forEach((function(t){a.push(e.renderOption(t,r,c))})),n.push(Object(rt.jsx)("li",{className:e.classes.row,children:Object(rt.jsxs)("div",{className:e.classes.group,children:[Object(rt.jsx)("div",{className:e.classes.groupHeader,children:e.props.renderGroupHeader(t.name)}),Object(rt.jsx)("ul",{className:e.classes.options,children:a})]})},t.groupId))}else n.push(e.renderOption(t,r,c))})),n.length>0&&(t=Object(rt.jsx)("ul",{ref:this.selectOptions,className:this.classes.options,children:n})))}this.props.multiple&&(a.height=this.props.height);var o=this.classes.select;return this.state.focus&&(o+=" ".concat(hn.m(this.classes.select,"display"))),Object(rt.jsxs)("div",{ref:this.select,className:o,style:a,children:[t,Object(rt.jsx)("div",{className:this.props.loading?"overlay-loader-container overlay-loader-container-show":"overlay-loader-container",children:Object(rt.jsx)(ua,{style:{transform:"translate3d(118px, 20px, 10px)"}})})]})}},{key:"renderOutElement",value:function(){var e,t=this,a=null;if(this.props.multiple)if("[object Array]"===Object.prototype.toString.call(this.state.value)&&this.state.value.length){var n=[];this.state.value.forEach((function(e){a=t.findByValue(t.state.defaultOptions,e),n.push(Object(rt.jsx)("option",{value:a.value,children:a.name},a.value))})),e=Object(rt.jsx)("select",{value:this.state.value,className:this.classes.out,name:this.props.name,readOnly:!0,multiple:!0,children:n})}else e=Object(rt.jsx)("select",{className:this.classes.out,name:this.props.name,readOnly:!0,multiple:!0,children:Object(rt.jsx)("option",{children:"Nothing selected"})});else if(this.props.search)e=Object(rt.jsx)("input",{type:"hidden",defaultValue:this.state.value,ref:this.outInput,name:this.props.name});else{e=Object(rt.jsx)("input",{type:"text",onFocus:this.onFocus,style:{opacity:0,position:"absolute",top:"-9999px",left:"-9999px"},value:this.state.value,readOnly:!0,ref:this.outInput,name:this.props.name})}return e}},{key:"onInputKeyUp",value:function(e){var t=e.target.value,a=this;this.typingTimer=setTimeout((function(){a.props.onOptionsRefresh(t)}),1e3)}},{key:"onInputKeyDown",value:function(e){clearTimeout(this.typingTimer)}},{key:"renderSearchField",value:function(){var e=this,t=null;if(this.props.search){t=Object(rt.jsx)("input",{name:null,ref:this.search,onFocus:this.onFocus,onKeyPress:this.onKeyPress,className:this.classes.search,type:"search",value:this.state.search,onChange:this.onChange,placeholder:this.props.placeholder,onKeyUp:function(t){return e.onInputKeyUp(t)},onKeyDown:function(t){return e.onInputKeyDown(t)}})}else{if(this.props.multiple)return;var a,n,c;this.state.value?((a=this.findByValue(this.state.defaultOptions,this.state.value))||(a=this.state.defaultOptions[0]),n=a.name,c=this.classes.search):(n=this.props.placeholder,c="".concat(this.classes.search," ").concat(hn.m(this.classes.search,"placeholder"))),t=Object(rt.jsx)("div",{tabIndex:0,role:"button",onClick:this.toggle,className:c,children:this.props.renderValue(n,a,this.state,this.props)})}return t}},{key:"render",value:function(){var e=this.state.focus?this.classes.focus:this.classes.container;return Object(rt.jsxs)("div",{className:e,ref:this.container,children:[this.renderOutElement(),this.renderSearchField(),this.renderOptions()]})}}]),a}(c.a.PureComponent);On.defaultProps={className:"select-search-box",search:!0,value:"",placeholder:null,multiple:!1,height:200,name:null,autofocus:!1,loading:!1,onHighlight:function(){},onMount:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},onOptionsRefresh:function(){},renderOption:function(e){return e.name},renderGroupHeader:function(e){return e},renderValue:function(e){return e},fuse:{keys:["name","groupName"],threshold:.3}};var fn=Object(bn.a)(On),vn=function(e){var t=Object(i.d)((function(e){return{inventories:e.inventory.inventories}}),i.b),a=t.inventories,c=Object(i.c)(),s=Object(n.useState)({data:{product_id:"",qty:1,sale_price:""},error:{},inventoryList:[],loading:!0,postLoading:!1}),r=Object(g.a)(s,2),l=r[0],o=r[1],d=Object(n.useState)({showModal:!1}),u=Object(g.a)(d,2),j=u[0],b=u[1];Object(n.useEffect)((function(){h()}),[]);var h=function(){c(xa())};Object(n.useEffect)((function(){if(a&&a.data){var e=a.data.filter((function(e){return e.qty>=1})).map((function(e){return{name:e.product_name,value:e.id}}));o(Object(x.a)(Object(x.a)({},l),{},{inventoryList:e,loading:!1}))}}),[a]);var m=function(e){var t=e.target,a=Object(x.a)({},l.data),n=Object(x.a)({},l.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),o(Object(x.a)(Object(x.a)({},l),{},{data:a,error:n}))},p=function(){l.showModal,b(Object(x.a)(Object(x.a)({},j),{},{showModal:!j.showModal}))},O=function(){o(Object(x.a)(Object(x.a)({},l),{},{postLoading:!0}));var e=Object(x.a)({},l.data),t=e.product_id;delete e.product_id,c(function(e,t){var a="/sell/".concat(e);return function(e){return e(ra("SELL_ITEM_PROCESING",!0)),aa.post(a,t).then((function(t){var a;return e(ca("SELL_ITEM_SUCCESS",t)),200===(null===t||void 0===t?void 0:t.status)&&e(Fe(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)),t}),(function(t){var a;return e(sa("SELL_ITEM_ERROR",t)),t&&400===t.status&&e(Ae(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)),t}))}}(t,e)).then((function(e){var t,a=Object(x.a)({},l.data);(a.product_id="",o(Object(x.a)(Object(x.a)({},l),{},{postLoading:!1,data:a})),422===(null===e||void 0===e?void 0:e.status))&&o(Object(x.a)(Object(x.a)({},l),{},{error:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message}));b(Object(x.a)(Object(x.a)({},j),{},{showModal:!j.showModal}))}))},f=l.inventoryList,v=l.loading,y=l.data,N=l.error,_=l.postLoading;return console.log("inventory",f),Object(rt.jsxs)(fa,{title:"New Sale",links:[{name:"New Sale"}],options:["back"],onBack:function(){return e.history.goBack()},children:[j.showModal&&Object(rt.jsx)(dn,{title:"Sell Product",handleToggleModel:function(){return p()},onSubmit:function(){return O()},message:"Are you sure to Sell?",btnTitle:"Sell"}),Object(rt.jsx)("div",{className:"w-50 mx-auto d-flex align-items-center justify-content-center",children:Object(rt.jsx)("div",{className:"card",children:Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsxs)("div",{className:"form-group",children:[Object(rt.jsx)("label",{children:"Search Product"}),Object(rt.jsx)(fn,{options:(null===f||void 0===f?void 0:f.length)>0?f:[{name:"No Products To Sell"}],value:y.product_id,onChange:function(e){return function(e,t){var a=e.value,n=Object(x.a)({},l.data),c=Object(x.a)({},l.error);n[t]=a,c[t]="",o(Object(x.a)(Object(x.a)({},l),{},{data:n,error:c}))}(e,"product_id")},placeholder:"Search Products",onOptionsRefresh:function(e){return t=e,o(Object(x.a)(Object(x.a)({},l),{},{loading:!0})),void c(xa({limit:10,filter:[{key:"name",value:t}]})).then((function(e){return o(Object(x.a)(Object(x.a)({},l),{},{loading:!1}))}));var t},loading:v})]}),y.product_id&&Object(rt.jsxs)(n.Fragment,{children:[Object(rt.jsx)(ja,{name:"sale_price",label:"Sale Price",placeholder:"Please Enter Sale Price of the selected item.",onChange:m,error:N.sale_price}),Object(rt.jsx)(ja,{name:"qty",label:"Quantity",placeholder:"Default Quantity is 1",onChange:m,error:N.qty}),Object(rt.jsxs)("div",{className:"btn-group float-right",children:[Object(rt.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:function(){e.history.push("/inventories")},children:"Cancel"}),Object(rt.jsx)("button",{className:"btn btn-sm btn-success",disabled:_,onClick:p,children:_?Object(rt.jsx)(ua,{}):"Sell"})]})]})]})})})]})},xn=function(e){var t=Object(i.d)((function(e){return{me:e.currentUser.me}}),i.b),a=t.me,c=Object(i.c)(),s=Object(n.useState)({data:{name:"",email:"",username:"",role:"",status:"",contact:"",image:""},error:{},options:["back"],disabled:!0}),r=Object(g.a)(s,2),l=r[0],o=r[1];Object(n.useEffect)((function(){c((function(e){return e(ra(I,!0)),aa.get("/me").then((function(t){return e(ca(R,t)),t}),(function(t){var a;return e(sa(T,t)),(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)&&e(Ae(t.data.message)),t}))}))}),[]),Object(n.useEffect)((function(){a&&a.logged&&o(Object(x.a)(Object(x.a)({},l),{},{data:a.logged}))}),[a]);var d=function(e){var t=e.target,a=Object(x.a)({},l.data),n=Object(x.a)({},l.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),o(Object(x.a)(Object(x.a)({},l),{},{data:a,error:n}))},u=l.data,j=u.name,b=u.image,h=u.username,m=u.email,p=u.contact,O=u.role,f=u.status,v=l.error,y=l.disabled,N=l.options;return Object(rt.jsx)(fa,{links:[{name:"Profile"}],options:N,onSubmit:function(){var e=Object(x.a)({},l.data),t={};t.name=e.name,t.username=e.username,t.status=e.status,t.email=e.email,t.image=e.image,t.role=e.role,t.contact=e.contact,c(function(e,t){var a="/users/".concat(e);return function(e){return e(ra("UPDATE_USER_PROCESSING",!0)),aa.patch(a,t).then((function(t){return e(ca("UPDATE_USER_SUCCESS",t)),t}),(function(t){return e(sa("UPDATE_USER_ERROR",t)),t}))}}(e.id,t)).then((function(e){if(422===(null===e||void 0===e?void 0:e.status))o(Object(x.a)(Object(x.a)({},l),{},{error:null===e||void 0===e?void 0:e.data.message}));else if(400===e.status){var t;c(Ae(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))}else{var a;c(Fe(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message))}}))},onBack:function(){return e.history.push("/dashboard")},children:Object(rt.jsx)("div",{className:"mx-auto profileCard d-flex align-items-center justify-content-center",children:Object(rt.jsx)("div",{className:"card",children:Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("button",{className:"float-right m-2 editBtn","data-toggle":"tooltip","data-placement":"bottom",title:"Edit",onClick:function(){o(y?Object(x.a)(Object(x.a)({},l),{},{disabled:!1,options:["back","save"]}):Object(x.a)(Object(x.a)({},l),{},{disabled:!0,options:["back"]}))},children:Object(rt.jsx)("i",{className:"ri-pencil-line"})}),Object(rt.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(rt.jsx)("img",{src:b,alt:"user_image",style:{width:"100px",borderRadius:45}})}),Object(rt.jsx)(ja,{name:"name",label:"Name",value:j,onChange:d,error:v.name,disabled:y}),Object(rt.jsx)(ja,{name:"email",label:"Email",disabled:!0,value:m,onChange:d,error:v.email}),Object(rt.jsx)(ja,{name:"username",label:"Username",disabled:!0,value:h,onChange:d,error:v.username}),Object(rt.jsx)(ja,{name:"role",label:"Role",value:O,onChange:d,error:v.role,disabled:y}),Object(rt.jsxs)("div",{className:"form-group",children:[Object(rt.jsx)("label",{htmlFor:"status",children:"User Status: "}),Object(rt.jsx)("div",{className:"float-right",children:Object(rt.jsx)(ka,{status:f})})]}),Object(rt.jsx)(ja,{name:"contact",label:"Contact Number",value:p,onChange:d,error:v.contact,disabled:y})]})})})})},gn=[{name:"Debtors",path:"/debtors"}],yn=function(e){var t=e.location.pathname,a=e.location.search,c=Object(i.d)((function(e){return{debtors:e.debtors.debtors}}),i.b),s=c.debtors,r=Object(i.c)(),l=Object(n.useState)({data:{},showModal:!1}),o=Object(g.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(!0),b=Object(g.a)(j,2),h=b[0],m=b[1],p=Object(n.useState)({showModal:!1,QRModal:!1}),O=Object(g.a)(p,2),y=O[0],N=O[1],_=Object(n.useState)({filter:[],limit:"10",page:1,q:"",sort_by:null,sort_field:null,filterKey:"",filterValue:null,showFilterOptions:!1}),S=Object(g.a)(_,2),C=S[0],E=S[1];Object(n.useEffect)((function(){var e=Object(va.a)(C.filter),t=Object(x.a)({},C),n=t.limit,c=t.page,s=t.q,r=t.sort_by,i=t.sort_field,l=v(a);Object.keys(l).map((function(t){if("page"===t)c=l[t];else if("limit"===t)n=l[t];else if("q"===t)s=l[t];else if("sort_by"===t)r=l[t];else if("sort_field"===t)i=l[t];else{var a=e.findIndex((function(e){return e.key===t}));a>-1&&(e[a].value=l[t])}})),E(Object(x.a)(Object(x.a)({},C),{},{limit:n,page:c,q:s,sort_by:r,sort_field:i,filter:e}))}),[]),Object(n.useEffect)((function(){k()}),[C]),Object(n.useEffect)((function(){s&&u(Object(x.a)(Object(x.a)({},d),{},{data:s}))}),[s]);var k=function(){var a,n=C.limit,c=C.page,s=C.q,i=C.sort_by,l=C.sort_field,o=C.filterKey,d=C.filterValue,u=C.filter;r((a={limit:n,page:c,q:s,sort_by:i,sort_field:l,filterKey:o,filterValue:d,filter:u},a=a||{},function(e){e(ra(ge));var t={limit:a.limit||10,page:a.page||1,q:a.q||"",sort_field:a.sort_field||"id",sort_by:a.sort_by||"desc"};a.filter&&Object.keys(a.filter).forEach((function(e){var n=a.filter[e];t["filter[".concat(e,"]")]=n}));var n={params:t};return aa.get("/debtors",n).then((function(t){return e(ca(ye,t)),t}),(function(t){var a;return e(sa(Ne,t)),(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)&&e(Ae(t.data.message)),t}))})).then((function(e){return m(!1)})),function(){var a=Object(va.a)(C.filter),n=Object(x.a)({},C),c=n.limit,s=n.page,r=n.q,i=n.sort_by,l=n.sort_field;a.push({key:"limit",value:c}),a.push({key:"page",value:s}),a.push({key:"q",value:r}),a.push({key:"sort_by",value:i}),a.push({key:"sort_field",value:l});var o=f(a);e.history.push({pathname:t,search:o})}()},w=d.data,R=w.data,T=w.current_page,I=w.from,F=w.last_page,A=(w.per_page,w.to),D=(w.total,h?Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:Object(rt.jsx)(ua,{})})}):R&&R.length>0?R.map((function(t,a){var n=t.id,c=t.name,s=t.remaning_amount,r=t.status,i=t.pending_intrest,l=t.rate;return Object(rt.jsxs)("tr",{children:[Object(rt.jsx)("td",{children:n}),Object(rt.jsx)("td",{role:"button",onClick:function(){return e.history.push("/debtors/".concat(n,"/edit"))},children:c||"-"}),Object(rt.jsx)("td",{children:s?"Rs."+s:"-"}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(ka,{status:r})}),Object(rt.jsx)("td",{className:"text-right",children:i?"Rs. "+i:"-"}),Object(rt.jsx)("td",{className:"text-right",children:l?l+"%":0}),Object(rt.jsx)("td",{className:"text-center",children:Object(rt.jsx)(Ea,{type:"inventory",noView:!0,id:n,handleToggleModal:function(e){return function(e){d.showModal?N(Object(x.a)(Object(x.a)({},y),{},{showModal:!y.showModal})):N(Object(x.a)(Object(x.a)({},y),{},{showModal:!y.showModal,itemToDelete:e}))}(n)}})})]},a)})):Object(rt.jsx)("tr",{className:"text-center",children:Object(rt.jsx)("td",{colSpan:"10",children:"No Records"})}));return Object(rt.jsx)(fa,{title:"Debtors",links:gn,options:["create"],onCreate:function(){e.history.push("/debtors/new")},children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header",children:Object(rt.jsx)(Ra,{limitChange:function(e){return function(e){var t=e.target.value;E(Object(x.a)(Object(x.a)({},C),{},{limit:t}))}(e)},limit:C.limit,searchChange:function(e){return function(e){var t=e.target.value;(t&&t.length>=3||0===t.length)&&E(Object(x.a)(Object(x.a)({},C),{},{q:t}))}(e)}})}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)("div",{className:"table-wrapper",children:Object(rt.jsx)(Ca,{tableClass:"table-hover",columns:["#","Debtor Name","Remaining Amount","Pending Intrest","rate",{name:"actions",alignment:"center",width:150}],children:D})}),Object(rt.jsx)(wa,{current_page:T,pageFrom:I,pageTo:A,last_page:F,changePage:function(e){E(Object(x.a)(Object(x.a)({},C),{},{page:e}))}})]})]})})},Nn=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],s=a[1],r=e.name,i=e.onChange,l=e.label,o=e.value,d=e.error,u=e.type,j=e.disabled,b=e.placeholder,h=e.className,m=e.icon,p=e.autoComplete,O=e.required;return Object(rt.jsxs)("div",{className:"".concat(h||""," form-group"),children:[l&&Object(rt.jsxs)("label",{htmlFor:r,children:[l," ",O?Object(rt.jsx)("span",{className:"text-danger",children:"\xa0*"}):""]}),Object(rt.jsxs)("div",{className:"input-group",children:[Object(rt.jsx)("input",{type:"".concat("password"===u?c?"text":"password":"text"),className:"form-control ".concat(d?"is-invalid":""),id:r,name:r,disabled:j,placeholder:b,value:o,onChange:i,autoComplete:p}),Object(rt.jsx)("div",{className:"input-group-append",children:"password"===u?Object(rt.jsx)("span",{onClick:function(){return s(!c)},className:"".concat(c?"ri-eye-line":"ri-eye-off-line"," input-group-text py-0")}):Object(rt.jsx)("i",{className:"".concat(m," input-group-text py-0")})})]}),d&&Object(rt.jsx)("small",{className:"text-danger",children:d})]})},_n={data:{name:"",type:"",status:!0,pri_amt:"",rate:"",accured_int:""},error:{name:"",type:"",status:!0,pri_amt:"",rate:"",accured_int:""}},Sn=function(e){var t=e.match.params.id,a=[{name:"Debtors",link:"/debtors"},{name:t?"Edit":"New"}],c=Object(i.d)((function(e){return{debtor:e.debtors.debtor}}),i.b),s=c.debtor,r=Object(n.useState)(Object(x.a)({},_n)),l=Object(g.a)(r,2),o=l[0],d=l[1],u=Object(i.c)();Object(n.useEffect)((function(){t&&j()}),[]);var j=function(){u(function(e){var t="/debtor/".concat(e);return function(e){return e(ra(_e,!0)),aa.get(t).then((function(t){return e(ca(Se,t)),t}),(function(t){return e(sa(Ce,t)),t}))}}(t))};Object(n.useEffect)((function(){t&&s&&s.data&&d(Object(x.a)(Object(x.a)({},o),{},{data:s.data}))}),[s]);var b=function(e){var t=e.target,a=Object(x.a)({},o.data),n=Object(x.a)({},o.error),c=t.name,s="checkbox"===t.type?t.checked:t.value;a[c]=s,""!==n[c]&&(n[c]=""),d(Object(x.a)(Object(x.a)({},o),{},{data:a,error:n}))},h={name:["required"],type:["required"],status:["required"],pri_amt:["required"],rate:["required"],accured_int:["required"]},m=o.data,p=o.error;return Object(rt.jsx)(fa,{links:a,options:["save","reset","back"],onSubmit:function(a){var n=Object(x.a)({},o.data);a.preventDefault();var c,s=ft(n,h,p,!1);s.localvalidationerror?d(Object(x.a)(Object(x.a)({},o),{},{error:s.error})):t?u(function(e,t){var a="/debtor/".concat(e);return function(e){return e(ra(Ee,!0)),aa.patch(a,t).then((function(t){return e(ca(ke,t)),t}),(function(t){return e(sa(we,t)),t}))}}(t,n)).then((function(e){422===(null===e||void 0===e?void 0:e.status)?d(Object(x.a)(Object(x.a)({},o),{},{error:e.data})):200===(null===e||void 0===e?void 0:e.status)&&u(Fe(e.data.message))})):u((c=n,function(e){return e(ra(Re,!0)),aa.post("/debtors",c).then((function(t){return e(ca(Te,t)),t}),(function(t){return e(sa(Ie,t)),t}))})).then((function(t){422===(null===t||void 0===t?void 0:t.status)?d(Object(x.a)(Object(x.a)({},o),{},{error:t.data.message})):200===(null===t||void 0===t?void 0:t.status)&&(u(Fe(t.data.message)),e.history.push("/debtors"))}))},onReset:function(){t?j():d(_n)},onBack:function(){e.history.goBack()},children:Object(rt.jsxs)("div",{className:"row",children:[Object(rt.jsx)("div",{className:"col-xs-12 col-sm-8",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Debtor Details"}),Object(rt.jsxs)("div",{className:"card-body",children:[Object(rt.jsx)(ja,{label:"Debtor Name *",name:"name",value:m.name,onChange:b,error:p.name}),Object(rt.jsx)(ja,{label:"Type *",name:"type",value:m.type,onChange:b,error:p.type}),Object(rt.jsx)(ja,{label:"Principal Amount *",name:"pri_amt",value:m.pri_amt,onChange:b,error:p.pri_amt}),Object(rt.jsx)(Nn,{label:"Rate *",icon:"ri-percent-line",name:"rate",type:"number",value:m.rate,onChange:b,error:p.rate}),Object(rt.jsx)(ja,{label:"Accured Intrest *",name:"accured_int",value:m.accured_int,onChange:b,error:p.accured_int})]})]})}),Object(rt.jsx)("div",{className:"col-xs-12 col-sm-4",children:Object(rt.jsxs)("div",{className:"card",children:[Object(rt.jsx)("div",{className:"card-header with-border",children:"Status"}),Object(rt.jsx)("div",{className:"card-body",children:Object(rt.jsx)(pa,{name:"status",checked:m.status,onChange:b,error:p.status})})]})})]})})},Cn=[{type:"link",path:"/dashboard",label:"Home",newWindow:!1},{type:"link",path:"/new-sale",label:"New Sale",newWindow:!1}],En=function(e){var t=window.location.pathname,a=Object(bt.g)();"/"===t||t.split("/");var s,r=Object(i.d)((function(e){return{sidebar:e.site.collapsed}}),i.b).sidebar,o=Object(i.c)(),d=Object(n.useState)("none"),u=Object(g.a)(d,2),j=u[0],b=u[1],h=c.a.memo((function(e){var t=e.link;return Object(rt.jsx)("li",{className:"nav-item d-none d-sm-inline-block",children:Object(rt.jsx)(l.c,{to:t.path?t.path:"#",className:"nav-link",children:Object(rt.jsx)("p",{children:t.label})})})})),m=Object(n.useRef)(null);return s=m,Object(n.useEffect)((function(){function e(e){s.current&&!s.current.contains(e.target)&&b("none")}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[s]),Object(rt.jsxs)("header",{id:"header",className:"d-flex align-items-center justify-content-between px-4 bg-primary ".concat(r?"toggled":""),children:[Object(rt.jsxs)("ul",{className:"navbar-nav flex-row",children:[Object(rt.jsx)("li",{className:"nav-item",children:Object(rt.jsx)("a",{className:"nav-link","data-widget":"pushmenu",id:"toggleSidebar",onClick:function(){o(Oa(!r))},href:!0,role:"button",children:Object(rt.jsx)("i",{className:"fas fa-bars"})})}),Cn.map((function(e,t){return Object(rt.jsx)(h,{link:e,idx:t},t)}))]}),Object(rt.jsxs)("div",{className:"dropdown",ref:m,children:[Object(rt.jsx)("a",{className:"header-item",href:!0,onClick:function(){return b("block"===j?"none":"block")},children:Object(rt.jsx)("i",{className:"ri-user-3-line fs-6"})}),Object(rt.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",style:{display:j},children:[Object(rt.jsxs)("a",{href:!0,className:"dropdown-item d-flex",onClick:function(){return a.push("/profile")},children:[Object(rt.jsx)("i",{className:"ri-user-line"}),Object(rt.jsx)("span",{className:"ml-auto",children:"Profile"})]}),Object(rt.jsxs)("a",{href:!0,className:"dropdown-item d-flex",onClick:function(){return localStorage.clear(),sessionStorage.clear(),void(window.location="/")},children:[Object(rt.jsx)("i",{className:"ri-logout-box-line"}),Object(rt.jsx)("span",{className:"ml-auto",children:"Logout"})]})]})]})]})},kn=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(){var e;Object(Pe.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedSubItem:null},e}return Object(qe.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedItem,a=e.subItem;(this.props.selectedItem||a)&&this.setState({selectedSubItem:a||t})}},{key:"componentDidUpdate",value:function(){var e=this.props.subItem;e&&e!==this.state.selectedSubItem&&this.setState({selectedSubItem:e})}},{key:"subItemClick",value:function(e){this.props.onSubItemSelect(e),this.setState({selectedSubItem:e})}},{key:"render",value:function(){var e=this,t=this.state.selectedSubItem,a=this.props,n=a.items,c=a.header;return Object(rt.jsx)("div",{className:"collapse show",id:c,children:Object(rt.jsx)("ul",{className:"btn-toggle-nav list-unstyled fw-normal pb-1",children:n.map((function(a,n){return Object(rt.jsx)("li",{children:Object(rt.jsx)(l.b,{to:a.link,className:"link-dark rounded ".concat(t&&a.id===t.id?"active":""),onClick:function(){return e.subItemClick(a)},children:a.label},n)},a.id)}))})})}}]),a}(n.Component),wn=kn,Rn=function(e){Object(Ue.a)(a,e);var t=Object(Be.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).setSelectedSubItem=function(e){n.setState({selectedSubItem:e})},n.state={sideTreeList:Object(va.a)(e.menuItems),selectedItem:null,selectedSubItem:null,currentPath:null,addClassName:!0},n}return Object(qe.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname;this.showHideMenu(t),window.addEventListener("resize",this.resize.bind(this)),window.addEventListener("resize",(function(){window.innerWidth<=1024&&e.setState({addClassName:!1}),window.innerWidth>983&&e.setState({addClassName:!0})}),!1)}},{key:"resize",value:function(){window.innerWidth<=1024&&this.setState({addClassName:!0}),window.innerWidth>983&&this.setState({addClassName:!1})}},{key:"componentDidUpdate",value:function(){var e=window.location.pathname;e!=this.state.currentPath&&(this.setState({currentPath:e}),this.showHideMenu(e))}},{key:"showHideMenu",value:function(e){var t=this,a=this.state.sideTreeList.map((function(a){if(a.items){var n=a.items.find((function(t){return t.id===e||t.children.includes(e)||e.includes(t.link)}));if(n)return t.props.onItemSelect(a),t.setState({selectedItem:a,selectedSubItem:n}),Object(x.a)(Object(x.a)({},a),{},{active:!0})}return a.id===e||a.link===e?(t.props.onItemSelect(a),t.setState({selectedItem:a,selectedSubItem:a.items?a.items[0]:null}),Object(x.a)(Object(x.a)({},a),{},{active:!0})):Object(x.a)(Object(x.a)({},a),{},{active:!1})}));this.setState({sideTreeList:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sideTreeList,c=t.selectedItem,s=t.selectedSubItem;return Object(rt.jsx)("div",{className:"".concat(!0===this.state.addClassName?"menu-bar":""," p-0"),id:"menu-bar-id",children:Object(rt.jsx)("ul",{className:"nav flex-column",children:a.map((function(t,a){return Object(rt.jsx)(n.Fragment,{children:t.status&&Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(l.b,{to:t.link,style:{textDecoration:"none"},children:Object(rt.jsx)("li",{className:"nav-item",onClick:function(){return e.showHideMenu(t.id)},children:t.items&&t.items?Object(rt.jsx)("a",{href:!0,className:"nav-link ".concat(t.active?(t.items,"active"):""),"data-bs-toggle":"collapse","data-bs-target":"#".concat(t.header),"aria-expanded":"true",children:Object(rt.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(rt.jsxs)("div",{children:[Object(rt.jsx)("i",{className:t.icon?t.icon:"icon-icons-nettv-64x64-39 "}),t.label]}),Object(rt.jsx)("i",{className:"ads ".concat(t.active?(t.items,"ri-arrow-up-s-line"):"ri-arrow-down-s-line")})]})}):Object(rt.jsx)("span",{children:Object(rt.jsxs)("a",{href:!0,className:"nav-link ".concat(t.active?(t.items,"active"):null),children:[Object(rt.jsx)("i",{className:t.icon?t.icon:"icon-icons-nettv-64x64-39 "}),t.label]})})},t.id)},t.id),t.items&&t.active&&Object(rt.jsx)(wn,{items:t.items,itemActive:t.active,header:t.header,subItem:s,onSubItemSelect:e.setSelectedSubItem,selectedItem:c.items[0]})]})},a)}))})})}}]),a}(n.Component),Tn=[{id:"acc",label:"Dashboard",name:"dashboard",header:"dashboard",icon:"ri-dashboard-3-line",link:"/dashboard",children:[],active:!0,status:!0},{id:"report",label:"Sales Report",name:"sales-report",header:"Sales Report",icon:"ri-money-dollar-box-line",link:"/sales-report",children:[],active:!0,status:!0},{id:"inventories",label:"Inventory",name:"inventories",header:"PACKAGES",icon:"ri-file-list-line",link:"/inventories",children:["/inventories"],active:!1,status:!0,items:[{id:"inventories",label:"Inventories",name:"primary_package",link:"/inventories",children:[],active:!1,status:!0},{id:"vendors",label:"Vendors",name:"vendors",link:"/vendors",children:[],active:!1,status:!0}]},{id:"customers",label:"Customers",name:"customers",icon:"ri-contacts-line",link:"/customers",children:[],active:!0,status:!0},{id:"debtors",label:"Debtors",name:"debtor",icon:"ri-briefcase-line",link:"/debtors",children:[],active:!0,status:!0}],In=function(e){var t={selectedItem:null,profile:{},addClassName:!0,sideList:Tn||[]},a=Object(i.d)((function(e){return{sidebar:e.site.collapsed}}),i.b),c=a.sidebar,s=Object(n.useState)(t),r=Object(g.a)(s,2),l=r[0],o=r[1],d=Object(i.c)();Object(n.useEffect)((function(){window.innerWidth<=768?d(Oa(!0)):window.innerWidth>768&&d(Oa(!1)),window.addEventListener("resize",(function(){window.innerWidth<=768?d(Oa(!0)):window.innerWidth>768&&d(Oa(!1))}))}),[]);var u,j=l.selectedItem,b=Object(n.useRef)(null);return u=b,Object(n.useEffect)((function(){function e(e){u.current&&!u.current.contains(e.target)&&window.innerWidth<768&&d(Oa(!c))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]),Object(rt.jsx)("div",{className:"container-fluid",children:Object(rt.jsx)("div",{className:"row",children:Object(rt.jsxs)("nav",{id:"sidebarMenu",className:"sidebar ".concat(c?"toggled":""),ref:b,children:[Object(rt.jsx)("div",{className:"logo d-flex align-items-center justify-content-start",children:Object(rt.jsx)("img",{src:"/brand_logo.png",alt:"logo",style:{height:50}})}),Object(rt.jsx)("div",{className:"position-sticky  mainNav",children:Object(rt.jsx)(Rn,{menuItems:l.sideList,onItemSelect:function(e){o(Object(x.a)(Object(x.a)({},l),{},{selectedItem:e}))},menuTitle:null===j||void 0===j?void 0:j.header})})]})})})},Fn=["component","children","title"],An=function(e){var t=e.component,a=e.children,c=(e.title,Object(y.a)(e,Fn)),s=Object(n.useState)(!1),r=Object(g.a)(s,2),l=r[0],o=r[1],d=Object(i.d)((function(e){return{alerts:e.alerts}}),i.b).alerts,u=Object(i.c)();Object(n.useEffect)((function(){o(d&&d.showSnackbar)}),[d]);return Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(In,{}),Object(rt.jsx)(En,{}),Object(rt.jsxs)(rt.Fragment,{children:[("success"===d.type||"error"===d.type)&&l&&Object(rt.jsx)(dt,{message:d.message,variant:d.type,duration:6e3,handleClose:function(e){return u(De()),void o(!l)},open:l}),t&&Object(rt.jsx)(t,Object(x.a)({toggled:!0},c)),a]})]})},Dn=function(e){return Object(rt.jsx)(jt,{children:Object(rt.jsx)("div",{className:"content",children:Object(rt.jsxs)("div",{children:[Object(rt.jsx)("h1",{className:"font-bold text-center",children:"404 Not Found"}),Object(rt.jsx)("button",{className:"btn btn-primary text-center",onClick:function(){return e.history.goBack()},children:"Go Back"})]})})})},Pn=function(e){var t=Object(bt.g)();return"/"===t.location.pathname&&t.push("/dashboard"),Object(rt.jsxs)(bt.d,{children:[Object(rt.jsx)(bt.b,{exact:!0,path:["/login"],children:Object(rt.jsx)(jt,{children:Object(rt.jsx)(Ot,{restricted:!0,exact:!0,path:"/login",component:da})})}),Object(rt.jsx)(bt.b,{path:["*/"],children:Object(rt.jsx)(An,{children:Object(rt.jsx)(mt,{type:"private",component:function(){return Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(bt.b,{exact:!0,path:"/dashboard",component:en}),Object(rt.jsx)(bt.b,{exact:!0,path:"/profile",component:xn}),Object(rt.jsx)(bt.b,{exact:!0,path:"/inventories",component:Ma}),Object(rt.jsx)(bt.b,{exact:!0,path:"/inventory/new",component:Ha}),Object(rt.jsx)(bt.b,{exact:!0,path:"/inventory/:id/edit",component:Ha}),Object(rt.jsx)(bt.b,{exact:!0,path:"/customers",component:za}),Object(rt.jsx)(bt.b,{exact:!0,path:"/customers/new",component:Ya}),Object(rt.jsx)(bt.b,{exact:!0,path:"/customers/:id/edit",component:Ya}),Object(rt.jsx)(bt.b,{exact:!0,path:"/vendors",component:Ja}),Object(rt.jsx)(bt.b,{exact:!0,path:"/vendors/:id/edit",component:$a}),Object(rt.jsx)(bt.b,{exact:!0,path:"/new-sale",component:vn}),Object(rt.jsx)(bt.b,{exact:!0,path:"/sales-report",component:an}),Object(rt.jsx)(bt.b,{exact:!0,path:"/categories",component:sn}),Object(rt.jsx)(bt.b,{exact:!0,path:"/category/new",component:ln}),Object(rt.jsx)(bt.b,{exact:!0,path:"/category/:id/edit",component:ln}),Object(rt.jsx)(bt.b,{exact:!0,path:"/debtors",component:yn}),Object(rt.jsx)(bt.b,{exact:!0,path:"/debtors/new",component:Sn}),Object(rt.jsx)(bt.b,{exact:!0,path:"/debtors/:id/edit",component:Sn})]})}})})}),Object(rt.jsx)(bt.b,{component:Dn}),m()?t.push({pathname:t.location.pathname}):t.push("/login")]})},qn=(a(192),a(193),function(){return Object(rt.jsx)(l.a,{children:Object(rt.jsx)(Pn,{})})});r.a.render(Object(rt.jsx)(i.a,{store:ta,children:Object(rt.jsx)(qn,{})}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.ae7eaeee.chunk.js.map